{"version":3,"sources":["hooks/title-hook.js","components/UI/Message.js","utils/index.js","actions/order-actions.js","components/UI/Paginate.js","components/Modal/ConfirmModal.js","components/Admin/AdminAll.js","pages/AdminAllOrdersPage.js"],"names":["useTitle","data","useState","title","setTitle","useEffect","document","Message","variant","text","defaultProps","addDecimals","num","Math","round","toFixed","localeDateTimeString","Date","toLocaleString","slice","localeDateString","toLocaleDateString","createOrder","orderData","dispatch","getState","a","type","CREATE_ORDER_REQUEST","userInfo","loginUser","config","headers","Authorization","token","axios","post","order","CREATE_ORDER_SUCCESS","payload","RESET_CART_ITEM","localStorage","removeItem","message","response","logout","CREATE_ORDER_FAIL","getOrderInfo","id","GET_ORDER_INFO_REQUEST","get","GET_ORDER_INFO_SUCCESS","GET_ORDER_INFO_FAIL","payOrder","orderId","paymentResult","PAY_ORDER_REQUEST","put","PAY_ORDER_SUCCESS","PAY_ORDER_FAIL","deliverOrder","DELIVER_ORDER_REQUEST","_id","DELIVER_ORDER_SUCCESS","DELIVER_ORDER_FAIL","getUserOrders","pageNumber","GET_USER_ORDERS_REQUEST","GET_USER_ORDERS_SUCCESS","GET_USER_ORDERS_FAIL","getAllOrders","GET_ALL_ORDERS_REQUEST","GET_ALL_ORDERS_SUCCESS","GET_ALL_ORDERS_FAIL","Paginate","products","orders","users","pages","page","isAdmin","keyword","Array","keys","map","x","to","Item","active","ConfirmModal","showModal","onClickModalHandler","onClickDelete","content","Modal","show","onHide","backdrop","keyboard","Header","Title","Footer","Btn","outlinePrimary","onClick","ReactDOM","createPortal","getElementById","AdminAll","heading","tableHead","loading","error","onClickCreateProduct","loadingDelete","errorDelete","loadingCreate","errorCreate","setId","path","useLocation","pathname","split","Row","className","Col","xs","md","Icon","plus","Loader","Table","striped","bordered","hover","responsive","th","index","user","name","href","email","check","times","small","edit","danger","trash","createdAt","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","product","price","category","brand","AdminAllOrdersPage","useDispatch","useParams","useSelector","state"],"mappings":"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","file":"static/js/14.111c6132.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nexport const useTitle = (data) => {\r\n  const [title, setTitle] = useState(data);\r\n\r\n  useEffect(() => {\r\n    document.title = title;\r\n  }, [title]);\r\n\r\n  return [title, setTitle];\r\n};\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nfunction Message({ variant, text }) {\r\n  return <Alert variant={variant}>{text}</Alert>;\r\n}\r\n\r\nMessage.defaultProps = {\r\n  variant: 'danger',\r\n};\r\n\r\nexport default Message;\r\n","export const addDecimals = (num) => {\r\n  return (Math.round(num * 100) / 100).toFixed(2);\r\n};\r\n\r\nexport const localeDateTimeString = (data) => {\r\n  return new Date(data).toLocaleString().slice(0, -3);\r\n};\r\n\r\nexport const localeDateString = (data) => {\r\n  return new Date(data).toLocaleDateString();\r\n};\r\n","import axios from 'axios';\r\nimport { RESET_CART_ITEM } from '../constants/cart-constants';\r\nimport {\r\n  CREATE_ORDER_REQUEST,\r\n  CREATE_ORDER_SUCCESS,\r\n  CREATE_ORDER_FAIL,\r\n  GET_ORDER_INFO_FAIL,\r\n  GET_ORDER_INFO_SUCCESS,\r\n  GET_ORDER_INFO_REQUEST,\r\n  PAY_ORDER_FAIL,\r\n  PAY_ORDER_SUCCESS,\r\n  PAY_ORDER_REQUEST,\r\n  GET_USER_ORDERS_REQUEST,\r\n  GET_USER_ORDERS_SUCCESS,\r\n  GET_USER_ORDERS_FAIL,\r\n  GET_ALL_ORDERS_FAIL,\r\n  GET_ALL_ORDERS_SUCCESS,\r\n  GET_ALL_ORDERS_REQUEST,\r\n  DELIVER_ORDER_FAIL,\r\n  DELIVER_ORDER_SUCCESS,\r\n  DELIVER_ORDER_REQUEST,\r\n} from '../constants/order-constants';\r\nimport { logout } from './user-actions';\r\n\r\nexport const createOrder = (orderData) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: CREATE_ORDER_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { order },\r\n    } = await axios.post(`/api/orders`, orderData, config);\r\n\r\n    dispatch({\r\n      type: CREATE_ORDER_SUCCESS,\r\n      payload: order,\r\n    });\r\n    dispatch({\r\n      type: RESET_CART_ITEM,\r\n      payload: order,\r\n    });\r\n    localStorage.removeItem('cart-items');\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'You are not authorized. Token failed.') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: CREATE_ORDER_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getOrderInfo = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: GET_ORDER_INFO_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { order },\r\n    } = await axios.get(`/api/orders/${id}`, config);\r\n\r\n    dispatch({\r\n      type: GET_ORDER_INFO_SUCCESS,\r\n      payload: order,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'You are not authorized. Token failed.') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: GET_ORDER_INFO_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const payOrder = (orderId, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: PAY_ORDER_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { order },\r\n    } = await axios.put(`/api/orders/${orderId}/pay`, paymentResult, config);\r\n\r\n    dispatch({\r\n      type: PAY_ORDER_SUCCESS,\r\n      payload: order,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'You are not authorized. Token failed.') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: PAY_ORDER_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deliverOrder = (orderData) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: DELIVER_ORDER_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { order },\r\n    } = await axios.put(`/api/orders/${orderData._id}/deliver`, {}, config);\r\n\r\n    dispatch({\r\n      type: DELIVER_ORDER_SUCCESS,\r\n      payload: order,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'You are not authorized. Token failed.') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: DELIVER_ORDER_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserOrders =\r\n  (pageNumber = '') =>\r\n  async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: GET_USER_ORDERS_REQUEST,\r\n      });\r\n\r\n      const {\r\n        loginUser: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.get(`/api/orders/myorders/?pageNumber=${pageNumber}`, config);\r\n\r\n      dispatch({\r\n        type: GET_USER_ORDERS_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message ? error.response.data.message : error.message;\r\n      if (message === 'You are not authorized. Token failed.') {\r\n        dispatch(logout());\r\n      }\r\n      dispatch({\r\n        type: GET_USER_ORDERS_FAIL,\r\n        payload: message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getAllOrders =\r\n  (pageNumber = '') =>\r\n  async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: GET_ALL_ORDERS_REQUEST,\r\n      });\r\n\r\n      const {\r\n        loginUser: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.get(`/api/orders/?pageNumber=${pageNumber}`, config);\r\n\r\n      dispatch({\r\n        type: GET_ALL_ORDERS_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message ? error.response.data.message : error.message;\r\n      if (message === 'You are not authorized. Token failed.') {\r\n        dispatch(logout());\r\n      }\r\n      dispatch({\r\n        type: GET_ALL_ORDERS_FAIL,\r\n        payload: message,\r\n      });\r\n    }\r\n  };\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nfunction Paginate({ products, orders, users, pages, page, isAdmin = false, keyword = '' }) {\r\n  if (products && pages > 1) {\r\n    return (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer\r\n            key={x + 1}\r\n            to={\r\n              !isAdmin\r\n                ? keyword\r\n                  ? `/search/${keyword}/${x + 1}`\r\n                  : `/${x + 1}`\r\n                : `/admin/allproducts/${x + 1}`\r\n            }>\r\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n          </LinkContainer>\r\n        ))}\r\n      </Pagination>\r\n    );\r\n  }\r\n  if (orders && pages > 1) {\r\n    return (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer\r\n            key={x + 1}\r\n            to={!isAdmin ? `/profile/${x + 1}` : `/admin/allorders/${x + 1}`}>\r\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n          </LinkContainer>\r\n        ))}\r\n      </Pagination>\r\n    );\r\n  }\r\n  if (users && pages > 1) {\r\n    return (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer key={x + 1} to={!isAdmin ? `/` : `/admin/allusers/${x + 1}`}>\r\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n          </LinkContainer>\r\n        ))}\r\n      </Pagination>\r\n    );\r\n  }\r\n\r\n  return <div></div>;\r\n}\r\n\r\nexport default Paginate;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\nimport Btn from '../UI/Btn';\r\n\r\nfunction ConfirmModal({ id, showModal, onClickModalHandler, onClickDelete }) {\r\n  const content = (\r\n    <Modal show={showModal} onHide={onClickModalHandler} backdrop='static' keyboard={false}>\r\n      <Modal.Header>\r\n        <Modal.Title>Are you sure?</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Footer>\r\n        <Btn outlinePrimary onClick={onClickModalHandler}>\r\n          No\r\n        </Btn>\r\n        <Btn\r\n          onClick={() => {\r\n            onClickDelete(id);\r\n            onClickModalHandler();\r\n          }}>\r\n          Yes\r\n        </Btn>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  return ReactDOM.createPortal(content, document.getElementById('confirm-modal'));\r\n}\r\n\r\nexport default ConfirmModal;\r\n","import React, { useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Row, Col, Table } from 'react-bootstrap';\r\n\r\nimport Loader from '../UI/Loader';\r\nimport Message from '../UI/Message';\r\nimport Icon from '../UI/Icon';\r\nimport Btn from '../UI/Btn';\r\nimport Paginate from '../UI/Paginate';\r\n\r\nimport { addDecimals, localeDateString } from '../../utils';\r\nimport ConfirmModal from '../Modal/ConfirmModal';\r\n\r\nfunction AdminAll({\r\n  heading,\r\n  tableHead,\r\n  loading,\r\n  error,\r\n  users,\r\n  orders,\r\n  products,\r\n  showModal,\r\n  onClickModalHandler,\r\n  onClickDelete,\r\n  onClickCreateProduct,\r\n  loadingDelete,\r\n  errorDelete,\r\n  loadingCreate,\r\n  errorCreate,\r\n  pages,\r\n  page,\r\n}) {\r\n  const [id, setId] = useState(null);\r\n\r\n  let path = useLocation().pathname.split('/')[3];\r\n  if (!path) path = 1;\r\n\r\n  return (\r\n    <>\r\n      <Row className='align-items-center'>\r\n        <Col>\r\n          <h1>{heading}</h1>\r\n        </Col>\r\n        {products && (\r\n          <Col xs={12} md={6} className='text-right mb-4 mb-md-0'>\r\n            <Btn onClick={onClickCreateProduct}>\r\n              <Icon plus /> Create Product\r\n            </Btn>\r\n          </Col>\r\n        )}\r\n      </Row>\r\n\r\n      {loadingDelete && <Loader />}\r\n      {errorDelete && <Message text={errorDelete} />}\r\n      {loadingCreate && <Loader />}\r\n      {errorCreate && <Message text={errorCreate} />}\r\n\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message text={error} />\r\n      ) : (\r\n        <>\r\n          <ConfirmModal\r\n            id={id}\r\n            showModal={showModal}\r\n            onClickModalHandler={onClickModalHandler}\r\n            onClickDelete={onClickDelete}\r\n          />\r\n\r\n          <Table striped bordered hover responsive className='table-sm text-center'>\r\n            <thead>\r\n              <tr className='bg-dark text-light'>\r\n                {tableHead.map((th, index) => (\r\n                  <th key={index}>{th}</th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users &&\r\n                users.map((user, index) => (\r\n                  <tr key={user._id}>\r\n                    <td>{(path - 1) * 10 + (index + 1)}</td>\r\n                    <td>{user._id}</td>\r\n                    <td>{user.name}</td>\r\n                    <td>\r\n                      <a href={`mailto:${user.email}`}>{user.email}</a>\r\n                    </td>\r\n                    <td>{user.isAdmin ? <Icon check /> : <Icon times />}</td>\r\n                    <td className='d-flex justify-content-center'>\r\n                      <Link to={`/admin/user/${user._id}/edit`}>\r\n                        <Btn small>\r\n                          <Icon edit />\r\n                        </Btn>\r\n                      </Link>\r\n                      <Btn\r\n                        danger\r\n                        small\r\n                        onClick={() => {\r\n                          setId(user._id);\r\n                          onClickModalHandler();\r\n                        }}>\r\n                        <Icon trash />\r\n                      </Btn>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              {orders &&\r\n                orders.map((order, index) => (\r\n                  <tr key={order._id}>\r\n                    <td>{(path - 1) * 10 + (index + 1)}</td>\r\n                    <td>{order._id}</td>\r\n                    <td>{order.user && order.user.name}</td>\r\n                    <td>{localeDateString(order.createdAt)}</td>\r\n                    <td>${addDecimals(order.totalPrice)}</td>\r\n                    <td>{order.isPaid ? localeDateString(order.paidAt) : <Icon times />}</td>\r\n                    <td>\r\n                      {order.isDelivered ? localeDateString(order.deliveredAt) : <Icon times />}\r\n                    </td>\r\n                    <td>\r\n                      <Link to={`/order/${order._id}`}>\r\n                        <Btn small>Details</Btn>\r\n                      </Link>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              {products &&\r\n                products.map((product, index) => (\r\n                  <tr key={product._id}>\r\n                    <td>{(path - 1) * 10 + (index + 1)}</td>\r\n                    <td>{product._id}</td>\r\n                    <td>{product.name}</td>\r\n                    <td>${addDecimals(product.price)}</td>\r\n                    <td>{product.category}</td>\r\n                    <td>{product.brand}</td>\r\n                    <td className='d-flex justify-content-center'>\r\n                      <Link to={`/admin/product/${product._id}/edit`}>\r\n                        <Btn small>\r\n                          <Icon edit />\r\n                        </Btn>\r\n                      </Link>\r\n                      <Btn\r\n                        danger\r\n                        small\r\n                        onClick={() => {\r\n                          setId(product._id);\r\n                          onClickModalHandler();\r\n                        }}>\r\n                        <Icon trash />\r\n                      </Btn>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n            </tbody>\r\n          </Table>\r\n          {products && <Paginate products pages={pages} page={page} isAdmin={true} />}\r\n          {orders && <Paginate orders pages={pages} page={page} isAdmin={true} />}\r\n          {users && <Paginate users pages={pages} page={page} isAdmin={true} />}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminAll;\r\n","import React, { useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport AdminAll from '../components/Admin/AdminAll';\r\n\r\nimport { getAllOrders } from '../actions/order-actions';\r\nimport { useTitle } from '../hooks/title-hook';\r\n\r\nfunction AdminAllOrdersPage() {\r\n  useTitle('Admin | All Orders');\r\n  const dispatch = useDispatch();\r\n\r\n  const { pageNumber } = useParams() || 1;\r\n\r\n  const {\r\n    loading,\r\n    error,\r\n    orders: { orders, page, pages },\r\n  } = useSelector((state) => state.getAllOrders);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllOrders(pageNumber));\r\n  }, [dispatch, pageNumber]);\r\n\r\n  const tableHead = ['NUM', 'ID', 'USER', 'DATE', 'TOTAL', 'PAID', 'DELIVERED', null];\r\n\r\n  return (\r\n    <AdminAll\r\n      heading='All Orders'\r\n      tableHead={tableHead}\r\n      loading={loading}\r\n      error={error}\r\n      orders={orders}\r\n      page={page}\r\n      pages={pages}\r\n    />\r\n  );\r\n}\r\n\r\nexport default AdminAllOrdersPage;\r\n"],"sourceRoot":""}