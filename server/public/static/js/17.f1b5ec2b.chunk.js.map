{"version":3,"sources":["hooks/title-hook.js","components/Form/FormContainer.js","components/Form/Input.js","components/UI/CheckoutSteps.js","actions/cart-actions.js","pages/ShippingPage.js"],"names":["useTitle","data","useState","title","setTitle","useEffect","document","FormContainer","className","children","xs","md","Input","input","controlId","label","type","name","placeholder","value","required","onChange","Group","Label","Control","CheckoutSteps","step1","step2","step3","step4","activeKey","Item","to","style","borderBottom","Link","disabled","addToCart","id","quantity","dispatch","getState","a","axios","get","product","_id","image","price","inStock","ADD_CART_ITEM","payload","err","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","REMOVE_CART_ITEM","saveShippingAddress","SAVE_SHIPPING_ADDRESS","savePaymentMethod","SAVE_PAYMENT_METHOD","ShippingPage","shippingAddress","useSelector","state","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","useDispatch","history","useHistory","inputs","e","target","onSubmit","preventDefault","push","map","index","submit"],"mappings":"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","file":"static/js/17.f1b5ec2b.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nexport const useTitle = (data) => {\r\n  const [title, setTitle] = useState(data);\r\n\r\n  useEffect(() => {\r\n    document.title = title;\r\n  }, [title]);\r\n\r\n  return [title, setTitle];\r\n};\r\n","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nfunction FormContainer({ className, children }) {\r\n  return (\r\n    <Row className={`justify-content-md-center ${className}`}>\r\n      <Col xs={12} md={6}>\r\n        {children}\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default FormContainer;\r\n","import React from 'react';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nfunction Input({ input }) {\r\n  const { controlId, label, type, name, placeholder, value, required, onChange } = input;\r\n  return (\r\n    <Form.Group controlId={controlId}>\r\n      <Form.Label>{label}</Form.Label>\r\n      <Form.Control\r\n        type={type}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        required={required}\r\n        onChange={onChange}></Form.Control>\r\n    </Form.Group>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nfunction CheckoutSteps({ step1, step2, step3, step4 }) {\r\n  return (\r\n    <Nav activeKey='/' className='justify-content-center mb-3'>\r\n      <Nav.Item>\r\n        {step1 ? (\r\n          <LinkContainer to='/cart' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Cart</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Cart</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step2 ? (\r\n          <LinkContainer to='/shipping' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Shipping</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Shipping</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step3 ? (\r\n          <LinkContainer to='/payment' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Payment</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Payment</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step4 ? (\r\n          <LinkContainer to='/placeorder' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Place Order</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Place Order</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n    </Nav>\r\n  );\r\n}\r\n\r\nexport default CheckoutSteps;\r\n","import axios from 'axios';\r\n\r\nimport {\r\n  ADD_CART_ITEM,\r\n  REMOVE_CART_ITEM,\r\n  SAVE_SHIPPING_ADDRESS,\r\n  SAVE_PAYMENT_METHOD,\r\n} from '../constants/cart-constants';\r\n\r\nexport const addToCart = (id, quantity) => async (dispatch, getState) => {\r\n  const {\r\n    data: { product },\r\n  } = await axios.get(`/api/products/${id}`);\r\n  const { _id, name, image, price, inStock } = product;\r\n\r\n  try {\r\n    dispatch({\r\n      type: ADD_CART_ITEM,\r\n      payload: {\r\n        _id,\r\n        name,\r\n        image,\r\n        price,\r\n        inStock,\r\n        quantity,\r\n      },\r\n    });\r\n  } catch (err) {}\r\n\r\n  localStorage.setItem('cart-items', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n  dispatch({ type: REMOVE_CART_ITEM, payload: id });\r\n\r\n  localStorage.setItem('cart-items', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n  dispatch({ type: SAVE_SHIPPING_ADDRESS, payload: data });\r\n\r\n  localStorage.setItem('shipping-address', JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n  dispatch({ type: SAVE_PAYMENT_METHOD, payload: data });\r\n\r\n  localStorage.setItem('payment-method', JSON.stringify(data));\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nimport FormContainer from '../components/Form/FormContainer';\r\nimport Input from '../components/Form/Input';\r\nimport Btn from '../components/UI/Btn';\r\nimport CheckoutSteps from '../components/UI/CheckoutSteps';\r\n\r\nimport { saveShippingAddress } from '../actions/cart-actions';\r\nimport { useTitle } from '../hooks/title-hook';\r\n\r\nfunction ShippingPage() {\r\n  useTitle('MERN Shop | Shipping');\r\n  const { shippingAddress } = useSelector((state) => state.cart);\r\n\r\n  const [address, setAddress] = useState(shippingAddress.address || '');\r\n  const [city, setCity] = useState(shippingAddress.city || '');\r\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode || '');\r\n  const [country, setCountry] = useState(shippingAddress.country || '');\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n    history.push('/payment');\r\n  };\r\n\r\n  const inputs = [\r\n    {\r\n      controlId: 'address',\r\n      label: 'Address',\r\n      type: 'text',\r\n      name: 'address',\r\n      placeholder: 'Your Address',\r\n      value: address,\r\n      required: true,\r\n      onChange: (e) => setAddress(e.target.value),\r\n    },\r\n    {\r\n      controlId: 'city',\r\n      label: 'City',\r\n      type: 'text',\r\n      name: 'city',\r\n      placeholder: 'Your City',\r\n      value: city,\r\n      required: true,\r\n      onChange: (e) => setCity(e.target.value),\r\n    },\r\n    {\r\n      controlId: 'postalCode',\r\n      label: 'Postal Code',\r\n      type: 'text',\r\n      name: 'postalCode',\r\n      placeholder: 'Your Postal Code',\r\n      value: postalCode,\r\n      required: true,\r\n      onChange: (e) => setPostalCode(e.target.value),\r\n    },\r\n    {\r\n      controlId: 'country',\r\n      label: 'Country',\r\n      type: 'text',\r\n      name: 'country',\r\n      placeholder: 'Your Country',\r\n      value: country,\r\n      required: true,\r\n      onChange: (e) => setCountry(e.target.value),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <CheckoutSteps step1 step2 />\r\n      <FormContainer>\r\n        <h1>Shipping</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          {inputs.map((input, index) => (\r\n            <Input key={index} input={input} />\r\n          ))}\r\n\r\n          <Btn submit>Continue</Btn>\r\n        </Form>\r\n      </FormContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ShippingPage;\r\n"],"sourceRoot":""}