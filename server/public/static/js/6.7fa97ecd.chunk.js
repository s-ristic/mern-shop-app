(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{146:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(65),n=a(0),c=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){document.title=c}),[c]),[c,s]}},147:function(e,t,a){"use strict";a(0);var r=a(154),n=a(1);function c(e){var t=e.variant,a=e.text;return Object(n.jsx)(r.a,{variant:t,children:a})}c.defaultProps={variant:"danger"},t.a=c},148:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),s=a(4),i=a.n(s);t.a=function(e){return c.a.forwardRef((function(t,a){return c.a.createElement("div",Object(r.a)({},t,{ref:a,className:i()(t.className,e)}))}))}},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c}));var r=function(e){return(Math.round(100*e)/100).toFixed(2)},n=function(e){return new Date(e).toLocaleString().slice(0,-3)},c=function(e){return new Date(e).toLocaleDateString()}},150:function(e,t,a){"use strict";var r,n=a(2),c=a(3),s=a(4),i=a.n(s),o=a(0),d=a.n(o),l=a(40),u=a(70),p=a(69),j=["className","children"],b=((r={})[l.b]="show",r[l.a]="show",r),h=d.a.forwardRef((function(e,t){var a=e.className,r=e.children,s=Object(c.a)(e,j),h=Object(o.useCallback)((function(e){Object(p.a)(e),s.onEnter&&s.onEnter(e)}),[s]);return d.a.createElement(l.e,Object(n.a)({ref:t,addEndListener:u.a},s,{onEnter:h}),(function(e,t){return d.a.cloneElement(r,Object(n.a)({},t,{className:i()("fade",a,r.props.className,b[e])}))}))}));h.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},h.displayName="Fade",t.a=h},151:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(7),s=a.n(c),i=a(0),o=a.n(i),d=a(4),l=a.n(d),u=["label","onClick","className"],p={label:s.a.string.isRequired,onClick:s.a.func},j=o.a.forwardRef((function(e,t){var a=e.label,c=e.onClick,s=e.className,i=Object(n.a)(e,u);return o.a.createElement("button",Object(r.a)({ref:t,type:"button",className:l()("close",s),onClick:c},i),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"),o.a.createElement("span",{className:"sr-only"},a))}));j.displayName="CloseButton",j.propTypes=p,j.defaultProps={label:"Close"},t.a=j},154:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(4),s=a.n(c),i=a(0),o=a.n(i),d=a(23),l=a(15),u=a(5),p=a(150),j=a(151),b=a(148),h=a(28),m=a(39),f=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],O=Object(b.a)("h4");O.displayName="DivStyledAsH4";var x=Object(h.a)("alert-heading",{Component:O}),y=Object(h.a)("alert-link",{Component:m.a}),v={show:!0,transition:p.a,closeLabel:"Close alert"},g=o.a.forwardRef((function(e,t){var a=Object(d.a)(e,{show:"onClose"}),c=a.bsPrefix,i=a.show,b=a.closeLabel,h=a.className,m=a.children,O=a.variant,x=a.onClose,y=a.dismissible,v=a.transition,g=Object(n.a)(a,f),k=Object(u.a)(c,"alert"),P=Object(l.a)((function(e){x&&x(!1,e)})),C=!0===v?p.a:v,N=o.a.createElement("div",Object(r.a)({role:"alert"},C?void 0:g,{ref:t,className:s()(h,k,O&&k+"-"+O,y&&k+"-dismissible")}),y&&o.a.createElement(j.a,{onClick:P,label:b}),m);return C?o.a.createElement(C,Object(r.a)({unmountOnExit:!0},g,{ref:void 0,in:i}),N):i?N:null}));g.displayName="Alert",g.defaultProps=v,g.Link=y,g.Heading=x,t.a=g},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"e",(function(){return h})),a.d(t,"c",(function(){return m}));var r=a(18),n=a.n(r),c=a(29),s=a(30),i=a.n(s),o=a(32),d=a(10),l=a(67),u=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,u,p,j,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.b}),c=r(),s=c.loginUser.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.post("/api/orders",e,u);case 6:p=t.sent,j=p.data.order,a({type:d.d,payload:j}),a({type:o.c,payload:j}),localStorage.removeItem("cart-items"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.a,payload:b});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,p,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.m}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/".concat(e),o);case 6:u=t.sent,p=u.data.order,a({type:d.n,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(j=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.l,payload:j});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(c.a)(n.a.mark((function a(r,c){var s,o,u,p,j,b;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:d.t}),s=c(),o=s.loginUser.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},a.next=6,i.a.put("/api/orders/".concat(e,"/pay"),t,u);case 6:p=a.sent,j=p.data.order,r({type:d.v,payload:j}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"You are not authorized. Token failed."===(b=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&r(Object(l.e)()),r({type:d.s,payload:b});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,p,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.f}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.put("/api/orders/".concat(e._id,"/deliver"),{},o);case 6:u=t.sent,p=u.data.order,a({type:d.h,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(j=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.e,payload:j});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,p,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.p}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/myorders/?pageNumber=".concat(e),o);case 6:u=t.sent,p=u.data,a({type:d.r,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(j=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.o,payload:j});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,p,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.j}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/?pageNumber=".concat(e),o);case 6:u=t.sent,p=u.data,a({type:d.k,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(j=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.i,payload:j});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}},158:function(e,t,a){"use strict";a(0);var r=a(144),n=a(31),c=a(1);t.a=function(e){var t=e.step1,a=e.step2,s=e.step3,i=e.step4;return Object(c.jsxs)(r.a,{activeKey:"/",className:"justify-content-center mb-3",children:[Object(c.jsx)(r.a.Item,{children:t?Object(c.jsx)(n.LinkContainer,{to:"/cart",style:{borderBottom:"2px solid"},children:Object(c.jsx)(r.a.Link,{children:"Cart"})}):Object(c.jsx)(r.a.Link,{disabled:!0,children:"Cart"})}),Object(c.jsx)(r.a.Item,{children:a?Object(c.jsx)(n.LinkContainer,{to:"/shipping",style:{borderBottom:"2px solid"},children:Object(c.jsx)(r.a.Link,{children:"Shipping"})}):Object(c.jsx)(r.a.Link,{disabled:!0,children:"Shipping"})}),Object(c.jsx)(r.a.Item,{children:s?Object(c.jsx)(n.LinkContainer,{to:"/payment",style:{borderBottom:"2px solid"},children:Object(c.jsx)(r.a.Link,{children:"Payment"})}):Object(c.jsx)(r.a.Link,{disabled:!0,children:"Payment"})}),Object(c.jsx)(r.a.Item,{children:i?Object(c.jsx)(n.LinkContainer,{to:"/placeorder",style:{borderBottom:"2px solid"},children:Object(c.jsx)(r.a.Link,{children:"Place Order"})}):Object(c.jsx)(r.a.Link,{disabled:!0,children:"Place Order"})})]})}},161:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(4),s=a.n(c),i=a(0),o=a.n(i),d=a(5),l=a(28),u=a(148),p=a(72),j=["bsPrefix","className","variant","as"],b=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,i=e.variant,l=e.as,u=void 0===l?"img":l,p=Object(n.a)(e,j),b=Object(d.a)(a,"card-img");return o.a.createElement(u,Object(r.a)({ref:t,className:s()(i?b+"-"+i:b,c)},p))}));b.displayName="CardImg",b.defaultProps={variant:null};var h=b,m=["bsPrefix","className","bg","text","border","body","children","as"],f=Object(u.a)("h5"),O=Object(u.a)("h6"),x=Object(l.a)("card-body"),y=Object(l.a)("card-title",{Component:f}),v=Object(l.a)("card-subtitle",{Component:O}),g=Object(l.a)("card-link",{Component:"a"}),k=Object(l.a)("card-text",{Component:"p"}),P=Object(l.a)("card-header"),C=Object(l.a)("card-footer"),N=Object(l.a)("card-img-overlay"),I=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,l=e.bg,u=e.text,j=e.border,b=e.body,h=e.children,f=e.as,O=void 0===f?"div":f,y=Object(n.a)(e,m),v=Object(d.a)(a,"card"),g=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:v+"-header"}}),[v]);return o.a.createElement(p.a.Provider,{value:g},o.a.createElement(O,Object(r.a)({ref:t},y,{className:s()(c,v,l&&"bg-"+l,u&&"text-"+u,j&&"border-"+j)}),b?o.a.createElement(x,null,h):h))}));I.displayName="Card",I.defaultProps={body:!1},I.Img=h,I.Title=y,I.Subtitle=v,I.Body=x,I.Link=g,I.Text=k,I.Header=P,I.Footer=C,I.ImgOverlay=N;t.a=I},184:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(13),c=a(139),s=a(92),i=a(26),o=a(36),d=a(145),l=a(140),u=a(147),p=a(149),j=a(1);var b=function(e){var t=e.cart;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.a,{variant:"flush",children:[Object(j.jsxs)(d.a.Item,{children:[Object(j.jsx)("h2",{children:"Shipping"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Address: "}),t.shippingAddress.address,", ",t.shippingAddress.city," ",t.shippingAddress.postalCode,", ",t.shippingAddress.country]})]}),Object(j.jsxs)(d.a.Item,{children:[Object(j.jsx)("h2",{children:"Payment Method"}),Object(j.jsx)("strong",{children:"Method: "}),t.paymentMethod]}),Object(j.jsxs)(d.a.Item,{children:[Object(j.jsx)("h2",{children:"Order Items"}),0===t.cartItems.length?Object(j.jsx)(u.a,{text:"Your cart is empty."}):Object(j.jsx)(d.a,{variant:"flush",children:t.cartItems.map((function(e,t){return Object(j.jsx)(d.a.Item,{children:Object(j.jsxs)(c.a,{className:"align-items-center",children:[Object(j.jsx)(s.a,{md:2,children:Object(j.jsx)(l.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(o.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(j.jsxs)(s.a,{md:4,children:[e.quantity," x $",Object(p.a)(e.price)," = $",Object(p.a)(e.quantity*e.price)]})]})},t)}))})]})]})})},h=a(161),m=a(66),f=a(155),O=a(6),x=a(10);var y=function(e){var t=e.cart,a=Object(i.b)(),o=Object(n.k)(),l=Object(i.c)((function(e){return e.createOrder})),b=l.order,y=l.success,v=l.error;return Object(r.useEffect)((function(){y&&(o.push("/order/".concat(b._id)),a({type:O.j}),a({type:x.c}))}),[a,b,o,y]),Object(j.jsx)(h.a,{children:Object(j.jsxs)(d.a,{variant:"flush",children:[Object(j.jsx)(d.a.Item,{children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)(d.a.Item,{children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(s.a,{children:"Price"}),Object(j.jsxs)(s.a,{children:["$",Object(p.a)(t.itemsPrice)]})]})}),Object(j.jsx)(d.a.Item,{children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(s.a,{children:"Shipping"}),Object(j.jsxs)(s.a,{children:["$",Object(p.a)(t.shippingPrice)]})]})}),Object(j.jsx)(d.a.Item,{className:"bg-dark text-light",children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(s.a,{children:"Total"}),Object(j.jsxs)(s.a,{children:["$",Object(p.a)(t.totalPrice)]})]})}),Object(j.jsx)(d.a.Item,{children:v&&Object(j.jsx)(u.a,{text:v})}),Object(j.jsx)(d.a.Item,{children:Object(j.jsx)(m.a,{block:!0,disabled:0===t.cartItems,onClick:function(){"COD"===t.paymentMethod&&a(Object(f.a)({orderItems:t.cartItems,shippingAddress:t.shippingAddress,paymentMethod:t.paymentMethod,itemsPrice:t.itemsPrice,shippingPrice:t.shippingPrice,totalPrice:t.totalPrice})),"PayPal"===t.paymentMethod&&o.push("/paypal")},children:"COD"===t.paymentMethod?"Order Now":"Continue to Pay"})})]})})},v=a(158),g=a(146);t.default=function(){Object(g.a)("MERN Shop | Place Order");var e=Object(n.k)(),t=Object(i.c)((function(e){return e.cart}));return t.shippingAddress.address?t.paymentMethod||e.push("/payment"):e.push("/shipping"),t.itemsPrice=t.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0),t.shippingPrice="COD"===t.paymentMethod?2.5:0,t.totalPrice=Number(t.itemsPrice)+Number(t.shippingPrice),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v.a,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(j.jsxs)(c.a,{children:[Object(j.jsx)(s.a,{md:8,children:Object(j.jsx)(b,{cart:t})}),Object(j.jsx)(s.a,{md:4,children:Object(j.jsx)(y,{cart:t})})]})]})}}}]);
//# sourceMappingURL=6.7fa97ecd.chunk.js.map