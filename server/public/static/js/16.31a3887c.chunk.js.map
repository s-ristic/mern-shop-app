{"version":3,"sources":["hooks/title-hook.js","components/UI/Message.js","utils/index.js","components/UI/Paginate.js","actions/product-actions.js","components/UI/Rating.js","components/Product/Product.js","components/Product/Products.js","components/UI/ProductCarousel.js","pages/HomePage.js"],"names":["useTitle","data","useState","title","setTitle","useEffect","document","Message","variant","text","defaultProps","addDecimals","num","Math","round","toFixed","localeDateTimeString","Date","toLocaleString","slice","localeDateString","toLocaleDateString","Paginate","products","orders","users","pages","page","isAdmin","keyword","Array","keys","map","x","to","Item","active","getAllProducts","pageNumber","dispatch","a","type","GET_ALL_PRODUCTS_REQUEST","axios","get","GET_ALL_PRODUCTS_SUCCESS","payload","GET_ALL_PRODUCTS_FAIL","response","message","getProductInfo","id","GET_PRODUCT_INFO_REQUEST","product","GET_PRODUCT_INFO_SUCCESS","GET_PRODUCT_INFO_FAIL","createProductReview","productId","review","getState","CREATE_PRODUCT_REVIEW_REQUEST","userInfo","loginUser","config","headers","Authorization","token","post","CREATE_PRODUCT_REVIEW_SUCCESS","logout","CREATE_PRODUCT_REVIEW_FAIL","deleteProduct","DELETE_PRODUCT_REQUEST","delete","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAIL","createProduct","CREATE_PRODUCT_REQUEST","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_FAIL","updateProduct","updatedProduct","UPDATE_PRODUCT_REQUEST","put","_id","UPDATE_PRODUCT_SUCCESS","UPDATE_PRODUCT_FAIL","getTopProducts","GET_TOP_PRODUCTS_REQUEST","GET_TOP_PRODUCTS_SUCCESS","GET_TOP_PRODUCTS_FAIL","Rating","value","star","starHalf","starO","className","comment","Product","Card","Img","src","image","Body","Title","as","name","Text","rating","totalReviews","price","Products","Row","Col","sm","md","lg","xl","ProductCarousel","useDispatch","useSelector","state","loading","error","Carousel","pause","Image","alt","fluid","Caption","HomePage","history","useHistory","useParams","Btn","outlinePrimary","margin","onClick","goBack","Loader"],"mappings":"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","file":"static/js/16.31a3887c.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nexport const useTitle = (data) => {\r\n  const [title, setTitle] = useState(data);\r\n\r\n  useEffect(() => {\r\n    document.title = title;\r\n  }, [title]);\r\n\r\n  return [title, setTitle];\r\n};\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nfunction Message({ variant, text }) {\r\n  return <Alert variant={variant}>{text}</Alert>;\r\n}\r\n\r\nMessage.defaultProps = {\r\n  variant: 'danger',\r\n};\r\n\r\nexport default Message;\r\n","export const addDecimals = (num) => {\r\n  return (Math.round(num * 100) / 100).toFixed(2);\r\n};\r\n\r\nexport const localeDateTimeString = (data) => {\r\n  return new Date(data).toLocaleString().slice(0, -3);\r\n};\r\n\r\nexport const localeDateString = (data) => {\r\n  return new Date(data).toLocaleDateString();\r\n};\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nfunction Paginate({ products, orders, users, pages, page, isAdmin = false, keyword = '' }) {\r\n  if (products && pages > 1) {\r\n    return (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer\r\n            key={x + 1}\r\n            to={\r\n              !isAdmin\r\n                ? keyword\r\n                  ? `/search/${keyword}/${x + 1}`\r\n                  : `/${x + 1}`\r\n                : `/admin/allproducts/${x + 1}`\r\n            }>\r\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n          </LinkContainer>\r\n        ))}\r\n      </Pagination>\r\n    );\r\n  }\r\n  if (orders && pages > 1) {\r\n    return (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer\r\n            key={x + 1}\r\n            to={!isAdmin ? `/profile/${x + 1}` : `/admin/allorders/${x + 1}`}>\r\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n          </LinkContainer>\r\n        ))}\r\n      </Pagination>\r\n    );\r\n  }\r\n  if (users && pages > 1) {\r\n    return (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer key={x + 1} to={!isAdmin ? `/` : `/admin/allusers/${x + 1}`}>\r\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n          </LinkContainer>\r\n        ))}\r\n      </Pagination>\r\n    );\r\n  }\r\n\r\n  return <div></div>;\r\n}\r\n\r\nexport default Paginate;\r\n","import axios from 'axios';\r\n\r\nimport {\r\n  GET_ALL_PRODUCTS_REQUEST,\r\n  GET_ALL_PRODUCTS_SUCCESS,\r\n  GET_ALL_PRODUCTS_FAIL,\r\n  GET_PRODUCT_INFO_REQUEST,\r\n  GET_PRODUCT_INFO_SUCCESS,\r\n  GET_PRODUCT_INFO_FAIL,\r\n  CREATE_PRODUCT_REVIEW_REQUEST,\r\n  CREATE_PRODUCT_REVIEW_SUCCESS,\r\n  CREATE_PRODUCT_REVIEW_FAIL,\r\n  DELETE_PRODUCT_REQUEST,\r\n  DELETE_PRODUCT_SUCCESS,\r\n  DELETE_PRODUCT_FAIL,\r\n  CREATE_PRODUCT_REQUEST,\r\n  CREATE_PRODUCT_SUCCESS,\r\n  CREATE_PRODUCT_FAIL,\r\n  UPDATE_PRODUCT_REQUEST,\r\n  UPDATE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_FAIL,\r\n  GET_TOP_PRODUCTS_REQUEST,\r\n  GET_TOP_PRODUCTS_SUCCESS,\r\n  GET_TOP_PRODUCTS_FAIL,\r\n} from '../constants/product-constants';\r\nimport { logout } from './user-actions';\r\n\r\nexport const getAllProducts =\r\n  (keyword = '', pageNumber = '') =>\r\n  async (dispatch) => {\r\n    dispatch({ type: GET_ALL_PRODUCTS_REQUEST });\r\n\r\n    try {\r\n      const { data } = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\r\n\r\n      dispatch({\r\n        type: GET_ALL_PRODUCTS_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: GET_ALL_PRODUCTS_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getProductInfo = (id) => async (dispatch) => {\r\n  dispatch({ type: GET_PRODUCT_INFO_REQUEST });\r\n\r\n  try {\r\n    const {\r\n      data: { product },\r\n    } = await axios.get(`/api/products/${id}`);\r\n    dispatch({ type: GET_PRODUCT_INFO_SUCCESS, payload: product });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PRODUCT_INFO_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProductReview = (productId, review) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: CREATE_PRODUCT_REVIEW_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    await axios.post(`/api/products/${productId}/reviews`, review, config);\r\n\r\n    dispatch({\r\n      type: CREATE_PRODUCT_REVIEW_SUCCESS,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: CREATE_PRODUCT_REVIEW_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: DELETE_PRODUCT_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    await axios.delete(`/api/products/${id}`, config);\r\n\r\n    dispatch({\r\n      type: DELETE_PRODUCT_SUCCESS,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: DELETE_PRODUCT_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: CREATE_PRODUCT_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { product },\r\n    } = await axios.post(`/api/products`, {}, config);\r\n\r\n    dispatch({\r\n      type: CREATE_PRODUCT_SUCCESS,\r\n      payload: product,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: CREATE_PRODUCT_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = (updatedProduct) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_REQUEST,\r\n    });\r\n\r\n    const {\r\n      loginUser: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { product },\r\n    } = await axios.put(`/api/products/${updatedProduct._id}`, updatedProduct, config);\r\n\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_SUCCESS,\r\n      payload: product,\r\n    });\r\n    dispatch({ type: GET_PRODUCT_INFO_SUCCESS, payload: product });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getTopProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_TOP_PRODUCTS_REQUEST });\r\n\r\n    const {\r\n      data: { products },\r\n    } = await axios.get(`/api/products/toprated`);\r\n\r\n    dispatch({\r\n      type: GET_TOP_PRODUCTS_SUCCESS,\r\n      payload: products,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_TOP_PRODUCTS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\nimport Icon from './Icon';\r\n\r\nfunction Rating({ value, text }) {\r\n  return (\r\n    <div>\r\n      <span>{value >= 1 ? <Icon star /> : value >= 0.5 ? <Icon starHalf /> : <Icon starO />}</span>\r\n      <span>{value >= 2 ? <Icon star /> : value >= 1.5 ? <Icon starHalf /> : <Icon starO />}</span>\r\n      <span>{value >= 3 ? <Icon star /> : value >= 2.5 ? <Icon starHalf /> : <Icon starO />}</span>\r\n      <span>{value >= 4 ? <Icon star /> : value >= 3.5 ? <Icon starHalf /> : <Icon starO />}</span>\r\n      <span>{value >= 5 ? <Icon star /> : value >= 4.5 ? <Icon starHalf /> : <Icon starO />}</span>\r\n      <p className='mt-2 mb-0'>\r\n        {text} <Icon comment />\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rating;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nimport Rating from '../UI/Rating';\r\n\r\nimport { addDecimals } from '../../utils';\r\n\r\nfunction Product({ product }) {\r\n  return (\r\n    <Card className='my-3 p-4 text-center'>\r\n      <Link to={`/product/${product._id}`}>\r\n        <Card.Img src={product.image} variant='top' />\r\n      </Link>\r\n\r\n      <Card.Body>\r\n        <Link to={`/product/${product._id}`}>\r\n          <Card.Title as='h2'>\r\n            <strong>{product.name}</strong>\r\n          </Card.Title>\r\n        </Link>\r\n\r\n        <Card.Text as='div'>\r\n          <Rating value={product.rating} text={`${product.totalReviews} reviews`} />\r\n        </Card.Text>\r\n\r\n        <Card.Text as='h2' className='mt-3'>\r\n          ${addDecimals(product.price)}\r\n        </Card.Text>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nimport Product from './Product';\r\n\r\nfunction Products({ products }) {\r\n  return (\r\n    <>\r\n      <h1 className='text-center'>All Products</h1>\r\n      <Row>\r\n        {products &&\r\n          products.map((product) => (\r\n            <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n              <Product product={product} />\r\n            </Col>\r\n          ))}\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Carousel, Image } from 'react-bootstrap';\r\n\r\nimport Message from './Message';\r\n\r\nimport { getTopProducts } from '../../actions/product-actions';\r\n\r\nimport { addDecimals } from '../../utils';\r\n\r\nfunction ProductCarousel() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { loading, error, products } = useSelector((state) => state.getTopProducts);\r\n\r\n  useEffect(() => {\r\n    dispatch(getTopProducts());\r\n  }, [dispatch]);\r\n\r\n  return loading ? null : error ? (\r\n    <Message text={error} />\r\n  ) : (\r\n    <Carousel pause='hover' className='bg-light'>\r\n      {products.map((product) => (\r\n        <Carousel.Item key={product._id}>\r\n          <Link to={`/product/${product._id}`} className='bg-primary'>\r\n            <Image src={product.image} alt={product.name} fluid />\r\n            <Carousel.Caption className='carousel-caption'>\r\n              <h2 className='text-primary font-weight-bold'>{product.name}</h2>\r\n              <h3 className='text-info font-weight-bold'>${addDecimals(product.price)}</h3>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      ))}\r\n    </Carousel>\r\n  );\r\n}\r\n\r\nexport default ProductCarousel;\r\n","import React, { useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport Loader from '../components/UI/Loader';\r\nimport Message from '../components/UI/Message';\r\nimport Products from '../components/Product/Products';\r\nimport Paginate from '../components/UI/Paginate';\r\nimport ProductCarousel from '../components/UI/ProductCarousel';\r\nimport Btn from '../components/UI/Btn';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllProducts } from '../actions/product-actions';\r\nimport { useTitle } from '../hooks/title-hook';\r\n\r\nfunction HomePage() {\r\n  useTitle('MERN Shop');\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const keyword = useParams().keyword;\r\n\r\n  const pageNumber = useParams().pageNumber || 1;\r\n\r\n  const {\r\n    loading,\r\n    error,\r\n    products: { products, page, pages },\r\n  } = useSelector((state) => state.getAllProducts);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllProducts(keyword, pageNumber));\r\n  }, [dispatch, keyword, pageNumber]);\r\n\r\n  return (\r\n    <>\r\n      {!keyword ? (\r\n        <ProductCarousel />\r\n      ) : (\r\n        <Btn outlinePrimary margin onClick={() => history.goBack()}>\r\n          Back\r\n        </Btn>\r\n      )}\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message text={error} />\r\n      ) : (\r\n        <>\r\n          <Products products={products} />\r\n          <Paginate products pages={pages} page={page} keyword={keyword ? keyword : ''} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"sourceRoot":""}