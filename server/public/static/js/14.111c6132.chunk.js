(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{146:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(65),a=r(0),c=function(e){var t=Object(a.useState)(e),r=Object(n.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){document.title=c}),[c]),[c,s]}},147:function(e,t,r){"use strict";r(0);var n=r(154),a=r(1);function c(e){var t=e.variant,r=e.text;return Object(a.jsx)(n.a,{variant:t,children:r})}c.defaultProps={variant:"danger"},t.a=c},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return c}));var n=function(e){return(Math.round(100*e)/100).toFixed(2)},a=function(e){return new Date(e).toLocaleString().slice(0,-3)},c=function(e){return new Date(e).toLocaleDateString()}},155:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return j})),r.d(t,"f",(function(){return p})),r.d(t,"b",(function(){return b})),r.d(t,"e",(function(){return h})),r.d(t,"c",(function(){return O}));var n=r(18),a=r.n(n),c=r(29),s=r(30),i=r.n(s),o=r(32),d=r(10),l=r(67),u=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,s,u,j,p,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:d.b}),c=n(),s=c.loginUser.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.post("/api/orders",e,u);case 6:j=t.sent,p=j.data.order,r({type:d.d,payload:p}),r({type:o.c,payload:p}),localStorage.removeItem("cart-items"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&r(Object(l.e)()),r({type:d.a,payload:b});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,s,o,u,j,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:d.m}),c=n(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/".concat(e),o);case 6:u=t.sent,j=u.data.order,r({type:d.n,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&r(Object(l.e)()),r({type:d.l,payload:p});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var r=Object(c.a)(a.a.mark((function r(n,c){var s,o,u,j,p,b;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:d.t}),s=c(),o=s.loginUser.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},r.next=6,i.a.put("/api/orders/".concat(e,"/pay"),t,u);case 6:j=r.sent,p=j.data.order,n({type:d.v,payload:p}),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(0),"You are not authorized. Token failed."===(b=r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message)&&n(Object(l.e)()),n({type:d.s,payload:b});case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,s,o,u,j,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:d.f}),c=n(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.put("/api/orders/".concat(e._id,"/deliver"),{},o);case 6:u=t.sent,j=u.data.order,r({type:d.h,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&r(Object(l.e)()),r({type:d.e,payload:p});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,s,o,u,j,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:d.p}),c=n(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/myorders/?pageNumber=".concat(e),o);case 6:u=t.sent,j=u.data,r({type:d.r,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&r(Object(l.e)()),r({type:d.o,payload:p});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,s,o,u,j,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:d.j}),c=n(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/?pageNumber=".concat(e),o);case 6:u=t.sent,j=u.data,r({type:d.k,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&r(Object(l.e)()),r({type:d.i,payload:p});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}},156:function(e,t,r){"use strict";var n=r(71),a=(r(0),r(165)),c=r(31),s=r(1);t.a=function(e){var t=e.products,r=e.orders,i=e.users,o=e.pages,d=e.page,l=e.isAdmin,u=void 0!==l&&l,j=e.keyword,p=void 0===j?"":j;return t&&o>1?Object(s.jsx)(a.a,{children:Object(n.a)(Array(o).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:u?"/admin/allproducts/".concat(e+1):p?"/search/".concat(p,"/").concat(e+1):"/".concat(e+1),children:Object(s.jsx)(a.a.Item,{active:e+1===d,children:e+1})},e+1)}))}):r&&o>1?Object(s.jsx)(a.a,{children:Object(n.a)(Array(o).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:u?"/admin/allorders/".concat(e+1):"/profile/".concat(e+1),children:Object(s.jsx)(a.a.Item,{active:e+1===d,children:e+1})},e+1)}))}):i&&o>1?Object(s.jsx)(a.a,{children:Object(n.a)(Array(o).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:u?"/admin/allusers/".concat(e+1):"/",children:Object(s.jsx)(a.a.Item,{active:e+1===d,children:e+1})},e+1)}))}):Object(s.jsx)("div",{})}},160:function(e,t,r){"use strict";var n=r(65),a=r(0),c=r(13),s=r(36),i=r(139),o=r(92),d=r(166),l=r(68),u=r(147),j=r(33),p=r(66),b=r(156),h=r(149),O=r(24),x=r.n(O),f=r(179),m=r(1);var g=function(e){var t=e.id,r=e.showModal,n=e.onClickModalHandler,a=e.onClickDelete,c=Object(m.jsxs)(f.a,{show:r,onHide:n,backdrop:"static",keyboard:!1,children:[Object(m.jsx)(f.a.Header,{children:Object(m.jsx)(f.a.Title,{children:"Are you sure?"})}),Object(m.jsxs)(f.a.Footer,{children:[Object(m.jsx)(p.a,{outlinePrimary:!0,onClick:n,children:"No"}),Object(m.jsx)(p.a,{onClick:function(){a(t),n()},children:"Yes"})]})]});return x.a.createPortal(c,document.getElementById("confirm-modal"))};t.a=function(e){var t=e.heading,r=e.tableHead,O=e.loading,x=e.error,f=e.users,v=e.orders,y=e.products,k=e.showModal,A=e.onClickModalHandler,w=e.onClickDelete,C=e.onClickCreateProduct,D=e.loadingDelete,I=e.errorDelete,z=e.loadingCreate,T=e.errorCreate,_=e.pages,N=e.page,L=Object(a.useState)(null),E=Object(n.a)(L,2),M=E[0],P=E[1],U=Object(c.l)().pathname.split("/")[3];return U||(U=1),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(i.a,{className:"align-items-center",children:[Object(m.jsx)(o.a,{children:Object(m.jsx)("h1",{children:t})}),y&&Object(m.jsx)(o.a,{xs:12,md:6,className:"text-right mb-4 mb-md-0",children:Object(m.jsxs)(p.a,{onClick:C,children:[Object(m.jsx)(j.a,{plus:!0})," Create Product"]})})]}),D&&Object(m.jsx)(l.a,{}),I&&Object(m.jsx)(u.a,{text:I}),z&&Object(m.jsx)(l.a,{}),T&&Object(m.jsx)(u.a,{text:T}),O?Object(m.jsx)(l.a,{}):x?Object(m.jsx)(u.a,{text:x}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g,{id:M,showModal:k,onClickModalHandler:A,onClickDelete:w}),Object(m.jsxs)(d.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm text-center",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{className:"bg-dark text-light",children:r.map((function(e,t){return Object(m.jsx)("th",{children:e},t)}))})}),Object(m.jsxs)("tbody",{children:[f&&f.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:10*(U-1)+(t+1)}),Object(m.jsx)("td",{children:e._id}),Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:Object(m.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(m.jsx)("td",{children:e.isAdmin?Object(m.jsx)(j.a,{check:!0}):Object(m.jsx)(j.a,{times:!0})}),Object(m.jsxs)("td",{className:"d-flex justify-content-center",children:[Object(m.jsx)(s.Link,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(m.jsx)(p.a,{small:!0,children:Object(m.jsx)(j.a,{edit:!0})})}),Object(m.jsx)(p.a,{danger:!0,small:!0,onClick:function(){P(e._id),A()},children:Object(m.jsx)(j.a,{trash:!0})})]})]},e._id)})),v&&v.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:10*(U-1)+(t+1)}),Object(m.jsx)("td",{children:e._id}),Object(m.jsx)("td",{children:e.user&&e.user.name}),Object(m.jsx)("td",{children:Object(h.b)(e.createdAt)}),Object(m.jsxs)("td",{children:["$",Object(h.a)(e.totalPrice)]}),Object(m.jsx)("td",{children:e.isPaid?Object(h.b)(e.paidAt):Object(m.jsx)(j.a,{times:!0})}),Object(m.jsx)("td",{children:e.isDelivered?Object(h.b)(e.deliveredAt):Object(m.jsx)(j.a,{times:!0})}),Object(m.jsx)("td",{children:Object(m.jsx)(s.Link,{to:"/order/".concat(e._id),children:Object(m.jsx)(p.a,{small:!0,children:"Details"})})})]},e._id)})),y&&y.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:10*(U-1)+(t+1)}),Object(m.jsx)("td",{children:e._id}),Object(m.jsx)("td",{children:e.name}),Object(m.jsxs)("td",{children:["$",Object(h.a)(e.price)]}),Object(m.jsx)("td",{children:e.category}),Object(m.jsx)("td",{children:e.brand}),Object(m.jsxs)("td",{className:"d-flex justify-content-center",children:[Object(m.jsx)(s.Link,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(m.jsx)(p.a,{small:!0,children:Object(m.jsx)(j.a,{edit:!0})})}),Object(m.jsx)(p.a,{danger:!0,small:!0,onClick:function(){P(e._id),A()},children:Object(m.jsx)(j.a,{trash:!0})})]})]},e._id)}))]})]}),y&&Object(m.jsx)(b.a,{products:!0,pages:_,page:N,isAdmin:!0}),v&&Object(m.jsx)(b.a,{orders:!0,pages:_,page:N,isAdmin:!0}),f&&Object(m.jsx)(b.a,{users:!0,pages:_,page:N,isAdmin:!0})]})]})}},174:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(13),c=r(26),s=r(160),i=r(155),o=r(146),d=r(1);t.default=function(){Object(o.a)("Admin | All Orders");var e=Object(c.b)(),t=(Object(a.m)()||1).pageNumber,r=Object(c.c)((function(e){return e.getAllOrders})),l=r.loading,u=r.error,j=r.orders,p=j.orders,b=j.page,h=j.pages;return Object(n.useEffect)((function(){e(Object(i.c)(t))}),[e,t]),Object(d.jsx)(s.a,{heading:"All Orders",tableHead:["NUM","ID","USER","DATE","TOTAL","PAID","DELIVERED",null],loading:l,error:u,orders:p,page:b,pages:h})}}}]);
//# sourceMappingURL=14.111c6132.chunk.js.map