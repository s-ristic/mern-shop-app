(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{146:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(65),r=a(0),c=function(e){var t=Object(r.useState)(e),a=Object(n.a)(t,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){document.title=c}),[c]),[c,o]}},147:function(e,t,a){"use strict";a(0);var n=a(154),r=a(1);function c(e){var t=e.variant,a=e.text;return Object(r.jsx)(n.a,{variant:t,children:a})}c.defaultProps={variant:"danger"},t.a=c},148:function(e,t,a){"use strict";var n=a(2),r=a(0),c=a.n(r),o=a(4),s=a.n(o);t.a=function(e){return c.a.forwardRef((function(t,a){return c.a.createElement("div",Object(n.a)({},t,{ref:a,className:s()(t.className,e)}))}))}},150:function(e,t,a){"use strict";var n,r=a(2),c=a(3),o=a(4),s=a.n(o),u=a(0),i=a.n(u),l=a(40),p=a(70),d=a(69),b=["className","children"],f=((n={})[l.b]="show",n[l.a]="show",n),j=i.a.forwardRef((function(e,t){var a=e.className,n=e.children,o=Object(c.a)(e,b),j=Object(u.useCallback)((function(e){Object(d.a)(e),o.onEnter&&o.onEnter(e)}),[o]);return i.a.createElement(l.e,Object(r.a)({ref:t,addEndListener:p.a},o,{onEnter:j}),(function(e,t){return i.a.cloneElement(n,Object(r.a)({},t,{className:s()("fade",a,n.props.className,f[e])}))}))}));j.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},j.displayName="Fade",t.a=j},151:function(e,t,a){"use strict";var n=a(2),r=a(3),c=a(7),o=a.n(c),s=a(0),u=a.n(s),i=a(4),l=a.n(i),p=["label","onClick","className"],d={label:o.a.string.isRequired,onClick:o.a.func},b=u.a.forwardRef((function(e,t){var a=e.label,c=e.onClick,o=e.className,s=Object(r.a)(e,p);return u.a.createElement("button",Object(n.a)({ref:t,type:"button",className:l()("close",o),onClick:c},s),u.a.createElement("span",{"aria-hidden":"true"},"\xd7"),u.a.createElement("span",{className:"sr-only"},a))}));b.displayName="CloseButton",b.propTypes=d,b.defaultProps={label:"Close"},t.a=b},152:function(e,t,a){"use strict";a(0);var n=a(139),r=a(92),c=a(1);t.a=function(e){var t=e.className,a=e.children;return Object(c.jsx)(n.a,{className:"justify-content-md-center ".concat(t),children:Object(c.jsx)(r.a,{xs:12,md:6,children:a})})}},153:function(e,t,a){"use strict";a(0);var n=a(142),r=a(1);t.a=function(e){var t=e.input,a=t.controlId,c=t.label,o=t.type,s=t.name,u=t.placeholder,i=t.value,l=t.required,p=t.onChange;return Object(r.jsxs)(n.a.Group,{controlId:a,children:[Object(r.jsx)(n.a.Label,{children:c}),Object(r.jsx)(n.a.Control,{type:o,name:s,placeholder:u,value:i,required:l,onChange:p})]})}},154:function(e,t,a){"use strict";var n=a(2),r=a(3),c=a(4),o=a.n(c),s=a(0),u=a.n(s),i=a(23),l=a(15),p=a(5),d=a(150),b=a(151),f=a(148),j=a(28),m=a(39),h=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],v=Object(f.a)("h4");v.displayName="DivStyledAsH4";var g=Object(j.a)("alert-heading",{Component:v}),O=Object(j.a)("alert-link",{Component:m.a}),y={show:!0,transition:d.a,closeLabel:"Close alert"},x=u.a.forwardRef((function(e,t){var a=Object(i.a)(e,{show:"onClose"}),c=a.bsPrefix,s=a.show,f=a.closeLabel,j=a.className,m=a.children,v=a.variant,g=a.onClose,O=a.dismissible,y=a.transition,x=Object(r.a)(a,h),k=Object(p.a)(c,"alert"),C=Object(l.a)((function(e){g&&g(!1,e)})),w=!0===y?d.a:y,E=u.a.createElement("div",Object(n.a)({role:"alert"},w?void 0:x,{ref:t,className:o()(j,k,v&&k+"-"+v,O&&k+"-dismissible")}),O&&u.a.createElement(b.a,{onClick:C,label:f}),m);return w?u.a.createElement(w,Object(n.a)({unmountOnExit:!0},x,{ref:void 0,in:s}),E):s?E:null}));x.displayName="Alert",x.defaultProps=y,x.Link=O,x.Heading=g,t.a=x},157:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"g",(function(){return j})),a.d(t,"f",(function(){return m}));var n=a(18),r=a.n(n),c=a(29),o=a(30),s=a.n(o),u=a(11),i=a(67),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:u.m}),a.prev=1,a.next=4,s.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:c=a.sent,o=c.data,n({type:u.n,payload:o}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:u.l,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:u.p}),t.prev=1,t.next=4,s.a.get("/api/products/".concat(e));case 4:n=t.sent,c=n.data.product,a({type:u.q,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:u.o,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n,c){var o,l,p,d;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:u.e}),o=c(),l=o.loginUser.userInfo,p={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},a.next=6,s.a.post("/api/products/".concat(e,"/reviews"),t,p);case 6:n({type:u.g}),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),"Not authorized, token failed"===(d=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(Object(i.e)()),n({type:u.d,payload:d});case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,o,l,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.j}),c=n(),o=c.loginUser.userInfo,l={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,s.a.delete("/api/products/".concat(e),l);case 6:a({type:u.k}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(i.e)()),a({type:u.i,payload:p});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,o,l,p,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:u.b}),n=a(),c=n.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,s.a.post("/api/products",{},o);case 6:l=e.sent,p=l.data.product,t({type:u.h,payload:p}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(d=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(i.e)()),t({type:u.a,payload:d});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,o,l,p,d,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.v}),c=n(),o=c.loginUser.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,s.a.put("/api/products/".concat(e._id),e,l);case 6:p=t.sent,d=p.data.product,a({type:u.x,payload:d}),a({type:u.q,payload:d}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(i.e)()),a({type:u.u,payload:b});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:u.s}),e.next=4,s.a.get("/api/products/toprated");case 4:a=e.sent,n=a.data.products,t({type:u.t,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:u.r,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},164:function(e,t,a){"use strict";a(0);var n=a(13),r=a(142),c=a(68),o=a(147),s=a(152),u=a(153),i=a(66),l=a(1);t.a=function(e){var t=e.heading,a=e.inputs,p=e.editProduct,d=e.editUser,b=e.submitHandler,f=e.buttonLabel,j=e.uploading,m=e.uploadFileHandler,h=e.value,v=e.onChange,g=e.loading,O=e.loadingUpdate,y=e.errorUpdate,x=e.error,k=Object(n.k)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(i.a,{outlinePrimary:!0,margin:!0,onClick:function(){return k.goBack()},children:"Back"}),Object(l.jsxs)(s.a,{children:[Object(l.jsx)("h1",{children:t}),O&&Object(l.jsx)(c.a,{}),y&&Object(l.jsx)(o.a,{text:y}),g?Object(l.jsx)(c.a,{}):x?Object(l.jsx)(o.a,{text:x}):Object(l.jsxs)(r.a,{onSubmit:b,children:[a.map((function(e,t){return Object(l.jsx)(u.a,{input:e},t)})),p&&Object(l.jsxs)(r.a.Group,{controlId:"image",children:[Object(l.jsx)(r.a.Label,{children:"Image"}),Object(l.jsx)(r.a.Control,{type:"text",placeholder:"Enter image url",value:h,onChange:v}),Object(l.jsx)(r.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:m}),j&&Object(l.jsx)(c.a,{})]}),d&&Object(l.jsx)(r.a.Group,{controlId:"isadmin",children:Object(l.jsx)(r.a.Check,{type:"checkbox",label:"Is Admin",checked:h,onChange:v})}),Object(l.jsx)(i.a,{submit:!0,children:f})]})]})]})}},178:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),c=a(29),o=a(65),s=a(0),u=a(13),i=a(26),l=a(30),p=a.n(l),d=a(164),b=a(157),f=a(11),j=a(146),m=a(1);t.default=function(){Object(j.a)("Admin | Edit Product");var e=Object(u.k)(),t=Object(u.m)().id,a=Object(s.useState)(""),n=Object(o.a)(a,2),l=n[0],h=n[1],v=Object(s.useState)(0),g=Object(o.a)(v,2),O=g[0],y=g[1],x=Object(s.useState)(""),k=Object(o.a)(x,2),C=k[0],w=k[1],E=Object(s.useState)(""),N=Object(o.a)(E,2),I=N[0],S=N[1],P=Object(s.useState)(""),U=Object(o.a)(P,2),B=U[0],L=U[1],z=Object(s.useState)(0),A=Object(o.a)(z,2),F=A[0],H=A[1],q=Object(s.useState)(""),D=Object(o.a)(q,2),R=D[0],T=D[1],G=Object(s.useState)(!1),_=Object(o.a)(G,2),J=_[0],K=_[1],M=Object(i.b)(),Q=Object(i.c)((function(e){return e.getProductInfo})),V=Q.loading,W=Q.error,X=Q.product,Y=Object(i.c)((function(e){return e.updateProduct})),Z=Y.loading,$=Y.error,ee=Y.success;Object(s.useEffect)((function(){ee?(M({type:f.w}),e.push("/admin/allproducts")):X&&X._id===t?(h(X.name),y(X.price),w(X.image),S(X.brand),L(X.category),H(X.inStock),T(X.description)):M(Object(b.e)(t))}),[M,e,t,X,ee]);var te=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),K(!0),e.prev=4,c={headers:{"Content-Type":"multipart/form-data"}},e.next=8,p.a.post("/api/upload",n,c);case 8:o=e.sent,s=o.data,w(s),K(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),K(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),ae=[{controlId:"name",label:"Name",type:"text",name:"name",placeholder:"Enter Name",value:l,onChange:function(e){return h(e.target.value)}},{controlId:"price",label:"Price",type:"number",name:"price",placeholder:"Enter Price",value:O,onChange:function(e){return y(e.target.value)}},{controlId:"brand",label:"Brand",type:"text",name:"brand",placeholder:"Enter Brand",value:I,onChange:function(e){return S(e.target.value)}},{controlId:"inStock",label:"In Stock",type:"number",name:"inStock",placeholder:"Enter Count In Stock",value:F,onChange:function(e){return H(e.target.value)}},{controlId:"category",label:"Category",type:"text",name:"category",placeholder:"Enter Category",value:B,onChange:function(e){return L(e.target.value)}},{controlId:"description",label:"Description",type:"text",name:"description",placeholder:"Enter Description",value:R,onChange:function(e){return T(e.target.value)}}];return Object(m.jsx)(d.a,{editProduct:!0,heading:"Edit Product",buttonLabel:"Update Product",inputs:ae,value:C,onChange:function(e){return w(e.target.value)},submitHandler:function(e){e.preventDefault(),M(Object(b.g)({_id:t,name:l,price:O,image:C,brand:I,category:B,description:R,inStock:F}))},uploadFileHandler:te,loadingUpdate:Z,errorUpdate:$,loading:V,error:W,uploading:J})}}}]);
//# sourceMappingURL=7.283c5405.chunk.js.map