(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{146:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(65),r=a(0),c=function(e){var t=Object(r.useState)(e),a=Object(n.a)(t,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){document.title=c}),[c]),[c,s]}},147:function(e,t,a){"use strict";a(0);var n=a(154),r=a(1);function c(e){var t=e.variant,a=e.text;return Object(r.jsx)(n.a,{variant:t,children:a})}c.defaultProps={variant:"danger"},t.a=c},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c}));var n=function(e){return(Math.round(100*e)/100).toFixed(2)},r=function(e){return new Date(e).toLocaleString().slice(0,-3)},c=function(e){return new Date(e).toLocaleDateString()}},156:function(e,t,a){"use strict";var n=a(71),r=(a(0),a(165)),c=a(31),s=a(1);t.a=function(e){var t=e.products,a=e.orders,o=e.users,i=e.pages,u=e.page,p=e.isAdmin,d=void 0!==p&&p,j=e.keyword,l=void 0===j?"":j;return t&&i>1?Object(s.jsx)(r.a,{children:Object(n.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:d?"/admin/allproducts/".concat(e+1):l?"/search/".concat(l,"/").concat(e+1):"/".concat(e+1),children:Object(s.jsx)(r.a.Item,{active:e+1===u,children:e+1})},e+1)}))}):a&&i>1?Object(s.jsx)(r.a,{children:Object(n.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:d?"/admin/allorders/".concat(e+1):"/profile/".concat(e+1),children:Object(s.jsx)(r.a.Item,{active:e+1===u,children:e+1})},e+1)}))}):o&&i>1?Object(s.jsx)(r.a,{children:Object(n.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:d?"/admin/allusers/".concat(e+1):"/",children:Object(s.jsx)(r.a.Item,{active:e+1===u,children:e+1})},e+1)}))}):Object(s.jsx)("div",{})}},157:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"f",(function(){return O}));var n=a(18),r=a.n(n),c=a(29),s=a(30),o=a.n(s),i=a(11),u=a(67),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:i.m}),a.prev=1,a.next=4,o.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:c=a.sent,s=c.data,n({type:i.n,payload:s}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:i.l,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:i.p}),t.prev=1,t.next=4,o.a.get("/api/products/".concat(e));case 4:n=t.sent,c=n.data.product,a({type:i.q,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:i.o,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n,c){var s,p,d,j;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:i.e}),s=c(),p=s.loginUser.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.token)}},a.next=6,o.a.post("/api/products/".concat(e,"/reviews"),t,d);case 6:n({type:i.g}),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),"Not authorized, token failed"===(j=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(Object(u.e)()),n({type:i.d,payload:j});case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,s,p,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.j}),c=n(),s=c.loginUser.userInfo,p={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.delete("/api/products/".concat(e),p);case 6:a({type:i.k}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:i.i,payload:d});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,s,p,d,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.b}),n=a(),c=n.loginUser.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,o.a.post("/api/products",{},s);case 6:p=e.sent,d=p.data.product,t({type:i.h,payload:d}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(j=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(u.e)()),t({type:i.a,payload:j});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,s,p,d,j,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.v}),c=n(),s=c.loginUser.userInfo,p={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.put("/api/products/".concat(e._id),e,p);case 6:d=t.sent,j=d.data.product,a({type:i.x,payload:j}),a({type:i.q,payload:j}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:i.u,payload:l});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.s}),e.next=4,o.a.get("/api/products/toprated");case 4:a=e.sent,n=a.data.products,t({type:i.t,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.r,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},163:function(e,t,a){"use strict";a(0);var n=a(33),r=a(1);t.a=function(e){var t=e.value,a=e.text;return Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:t>=1?Object(r.jsx)(n.a,{star:!0}):t>=.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=2?Object(r.jsx)(n.a,{star:!0}):t>=1.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=3?Object(r.jsx)(n.a,{star:!0}):t>=2.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=4?Object(r.jsx)(n.a,{star:!0}):t>=3.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=5?Object(r.jsx)(n.a,{star:!0}):t>=4.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsxs)("p",{className:"mt-2 mb-0",children:[a," ",Object(r.jsx)(n.a,{comment:!0})]})]})}},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(13),c=a(68),s=a(147),o=a(139),i=a(92),u=a(36),p=a(161),d=a(163),j=a(149),l=a(1);var b=function(e){var t=e.product;return Object(l.jsxs)(p.a,{className:"my-3 p-4 text-center",children:[Object(l.jsx)(u.Link,{to:"/product/".concat(t._id),children:Object(l.jsx)(p.a.Img,{src:t.image,variant:"top"})}),Object(l.jsxs)(p.a.Body,{children:[Object(l.jsx)(u.Link,{to:"/product/".concat(t._id),children:Object(l.jsx)(p.a.Title,{as:"h2",children:Object(l.jsx)("strong",{children:t.name})})}),Object(l.jsx)(p.a.Text,{as:"div",children:Object(l.jsx)(d.a,{value:t.rating,text:"".concat(t.totalReviews," reviews")})}),Object(l.jsxs)(p.a.Text,{as:"h2",className:"mt-3",children:["$",Object(j.a)(t.price)]})]})]})};var f=function(e){var t=e.products;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"text-center",children:"All Products"}),Object(l.jsx)(o.a,{children:t&&t.map((function(e){return Object(l.jsx)(i.a,{sm:12,md:6,lg:4,xl:3,children:Object(l.jsx)(b,{product:e})},e._id)}))})]})},O=a(156),x=a(26),h=a(180),m=a(140),v=a(157);var g=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.getTopProducts})),a=t.loading,r=t.error,c=t.products;return Object(n.useEffect)((function(){e(Object(v.f)())}),[e]),a?null:r?Object(l.jsx)(s.a,{text:r}):Object(l.jsx)(h.a,{pause:"hover",className:"bg-light",children:c.map((function(e){return Object(l.jsx)(h.a.Item,{children:Object(l.jsxs)(u.Link,{to:"/product/".concat(e._id),className:"bg-primary",children:[Object(l.jsx)(m.a,{src:e.image,alt:e.name,fluid:!0}),Object(l.jsxs)(h.a.Caption,{className:"carousel-caption",children:[Object(l.jsx)("h2",{className:"text-primary font-weight-bold",children:e.name}),Object(l.jsxs)("h3",{className:"text-info font-weight-bold",children:["$",Object(j.a)(e.price)]})]})]})},e._id)}))})},y=a(66),k=a(146);t.default=function(){Object(k.a)("MERN Shop");var e=Object(r.k)(),t=Object(x.b)(),a=Object(r.m)().keyword,o=Object(r.m)().pageNumber||1,i=Object(x.c)((function(e){return e.getAllProducts})),u=i.loading,p=i.error,d=i.products,j=d.products,b=d.page,h=d.pages;return Object(n.useEffect)((function(){t(Object(v.d)(a,o))}),[t,a,o]),Object(l.jsxs)(l.Fragment,{children:[a?Object(l.jsx)(y.a,{outlinePrimary:!0,margin:!0,onClick:function(){return e.goBack()},children:"Back"}):Object(l.jsx)(g,{}),u?Object(l.jsx)(c.a,{}):p?Object(l.jsx)(s.a,{text:p}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f,{products:j}),Object(l.jsx)(O.a,{products:!0,pages:h,page:b,keyword:a||""})]})]})}}}]);
//# sourceMappingURL=16.31a3887c.chunk.js.map