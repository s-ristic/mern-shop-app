(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{146:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(65),r=a(0),c=function(e){var t=Object(r.useState)(e),a=Object(n.a)(t,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){document.title=c}),[c]),[c,s]}},147:function(e,t,a){"use strict";a(0);var n=a(154),r=a(1);function c(e){var t=e.variant,a=e.text;return Object(r.jsx)(n.a,{variant:t,children:a})}c.defaultProps={variant:"danger"},t.a=c},148:function(e,t,a){"use strict";var n=a(2),r=a(0),c=a.n(r),s=a(4),i=a.n(s);t.a=function(e){return c.a.forwardRef((function(t,a){return c.a.createElement("div",Object(n.a)({},t,{ref:a,className:i()(t.className,e)}))}))}},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c}));var n=function(e){return(Math.round(100*e)/100).toFixed(2)},r=function(e){return new Date(e).toLocaleString().slice(0,-3)},c=function(e){return new Date(e).toLocaleDateString()}},150:function(e,t,a){"use strict";var n,r=a(2),c=a(3),s=a(4),i=a.n(s),o=a(0),u=a.n(o),l=a(40),j=a(70),d=a(69),b=["className","children"],p=((n={})[l.b]="show",n[l.a]="show",n),O=u.a.forwardRef((function(e,t){var a=e.className,n=e.children,s=Object(c.a)(e,b),O=Object(o.useCallback)((function(e){Object(d.a)(e),s.onEnter&&s.onEnter(e)}),[s]);return u.a.createElement(l.e,Object(r.a)({ref:t,addEndListener:j.a},s,{onEnter:O}),(function(e,t){return u.a.cloneElement(n,Object(r.a)({},t,{className:i()("fade",a,n.props.className,p[e])}))}))}));O.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},O.displayName="Fade",t.a=O},151:function(e,t,a){"use strict";var n=a(2),r=a(3),c=a(7),s=a.n(c),i=a(0),o=a.n(i),u=a(4),l=a.n(u),j=["label","onClick","className"],d={label:s.a.string.isRequired,onClick:s.a.func},b=o.a.forwardRef((function(e,t){var a=e.label,c=e.onClick,s=e.className,i=Object(r.a)(e,j);return o.a.createElement("button",Object(n.a)({ref:t,type:"button",className:l()("close",s),onClick:c},i),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"),o.a.createElement("span",{className:"sr-only"},a))}));b.displayName="CloseButton",b.propTypes=d,b.defaultProps={label:"Close"},t.a=b},154:function(e,t,a){"use strict";var n=a(2),r=a(3),c=a(4),s=a.n(c),i=a(0),o=a.n(i),u=a(23),l=a(15),j=a(5),d=a(150),b=a(151),p=a(148),O=a(28),f=a(39),x=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],h=Object(p.a)("h4");h.displayName="DivStyledAsH4";var m=Object(O.a)("alert-heading",{Component:h}),v=Object(O.a)("alert-link",{Component:f.a}),g={show:!0,transition:d.a,closeLabel:"Close alert"},y=o.a.forwardRef((function(e,t){var a=Object(u.a)(e,{show:"onClose"}),c=a.bsPrefix,i=a.show,p=a.closeLabel,O=a.className,f=a.children,h=a.variant,m=a.onClose,v=a.dismissible,g=a.transition,y=Object(r.a)(a,x),k=Object(j.a)(c,"alert"),w=Object(l.a)((function(e){m&&m(!1,e)})),N=!0===g?d.a:g,C=o.a.createElement("div",Object(n.a)({role:"alert"},N?void 0:y,{ref:t,className:s()(O,k,h&&k+"-"+h,v&&k+"-dismissible")}),v&&o.a.createElement(b.a,{onClick:w,label:p}),f);return N?o.a.createElement(N,Object(n.a)({unmountOnExit:!0},y,{ref:void 0,in:i}),C):i?C:null}));y.displayName="Alert",y.defaultProps=g,y.Link=v,y.Heading=m,t.a=y},157:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return j})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return p})),a.d(t,"g",(function(){return O})),a.d(t,"f",(function(){return f}));var n=a(18),r=a.n(n),c=a(29),s=a(30),i=a.n(s),o=a(11),u=a(67),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:o.m}),a.prev=1,a.next=4,i.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:c=a.sent,s=c.data,n({type:o.n,payload:s}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:o.l,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:o.p}),t.prev=1,t.next=4,i.a.get("/api/products/".concat(e));case 4:n=t.sent,c=n.data.product,a({type:o.q,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:o.o,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n,c){var s,l,j,d;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:o.e}),s=c(),l=s.loginUser.userInfo,j={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},a.next=6,i.a.post("/api/products/".concat(e,"/reviews"),t,j);case 6:n({type:o.g}),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),"Not authorized, token failed"===(d=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(Object(u.e)()),n({type:o.d,payload:d});case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,s,l,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.j}),c=n(),s=c.loginUser.userInfo,l={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.delete("/api/products/".concat(e),l);case 6:a({type:o.k}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(j=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:o.i,payload:j});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,s,l,j,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.b}),n=a(),c=n.loginUser.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,i.a.post("/api/products",{},s);case 6:l=e.sent,j=l.data.product,t({type:o.h,payload:j}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(d=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(u.e)()),t({type:o.a,payload:d});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,s,l,j,d,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.v}),c=n(),s=c.loginUser.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.put("/api/products/".concat(e._id),e,l);case 6:j=t.sent,d=j.data.product,a({type:o.x,payload:d}),a({type:o.q,payload:d}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:o.u,payload:b});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.s}),e.next=4,i.a.get("/api/products/toprated");case 4:a=e.sent,n=a.data.products,t({type:o.t,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:o.r,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},161:function(e,t,a){"use strict";var n=a(2),r=a(3),c=a(4),s=a.n(c),i=a(0),o=a.n(i),u=a(5),l=a(28),j=a(148),d=a(72),b=["bsPrefix","className","variant","as"],p=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,i=e.variant,l=e.as,j=void 0===l?"img":l,d=Object(r.a)(e,b),p=Object(u.a)(a,"card-img");return o.a.createElement(j,Object(n.a)({ref:t,className:s()(i?p+"-"+i:p,c)},d))}));p.displayName="CardImg",p.defaultProps={variant:null};var O=p,f=["bsPrefix","className","bg","text","border","body","children","as"],x=Object(j.a)("h5"),h=Object(j.a)("h6"),m=Object(l.a)("card-body"),v=Object(l.a)("card-title",{Component:x}),g=Object(l.a)("card-subtitle",{Component:h}),y=Object(l.a)("card-link",{Component:"a"}),k=Object(l.a)("card-text",{Component:"p"}),w=Object(l.a)("card-header"),N=Object(l.a)("card-footer"),C=Object(l.a)("card-img-overlay"),E=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,l=e.bg,j=e.text,b=e.border,p=e.body,O=e.children,x=e.as,h=void 0===x?"div":x,v=Object(r.a)(e,f),g=Object(u.a)(a,"card"),y=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:g+"-header"}}),[g]);return o.a.createElement(d.a.Provider,{value:y},o.a.createElement(h,Object(n.a)({ref:t},v,{className:s()(c,g,l&&"bg-"+l,j&&"text-"+j,b&&"border-"+b)}),p?o.a.createElement(m,null,O):O))}));E.displayName="Card",E.defaultProps={body:!1},E.Img=O,E.Title=v,E.Subtitle=g,E.Body=m,E.Link=y,E.Text=k,E.Header=w,E.Footer=N,E.ImgOverlay=C;t.a=E},163:function(e,t,a){"use strict";a(0);var n=a(33),r=a(1);t.a=function(e){var t=e.value,a=e.text;return Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:t>=1?Object(r.jsx)(n.a,{star:!0}):t>=.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=2?Object(r.jsx)(n.a,{star:!0}):t>=1.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=3?Object(r.jsx)(n.a,{star:!0}):t>=2.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=4?Object(r.jsx)(n.a,{star:!0}):t>=3.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsx)("span",{children:t>=5?Object(r.jsx)(n.a,{star:!0}):t>=4.5?Object(r.jsx)(n.a,{starHalf:!0}):Object(r.jsx)(n.a,{starO:!0})}),Object(r.jsxs)("p",{className:"mt-2 mb-0",children:[a," ",Object(r.jsx)(n.a,{comment:!0})]})]})}},168:function(e,t,a){"use strict";a.r(t);var n=a(71),r=a(65),c=a(0),s=a(13),i=a(36),o=a(139),u=a(92),l=a(140),j=a(145),d=a(161),b=a(142),p=a(163),O=a(147),f=a(68),x=a(66),h=a(26),m=a(157),v=a(11),g=a(149),y=a(146),k=a(1);t.default=function(){Object(y.a)("MERN Shop | Product");var e=Object(c.useState)(1),t=Object(r.a)(e,2),a=t[0],w=t[1],N=Object(c.useState)(!1),C=Object(r.a)(N,2),E=C[0],P=C[1],I=Object(c.useState)(1),R=Object(r.a)(I,2),S=R[0],L=R[1],A=Object(c.useState)(""),B=Object(r.a)(A,2),H=B[0],z=B[1],F=Object(h.b)(),D=Object(s.m)().id,q=Object(s.k)(),T=Object(h.c)((function(e){return e.getProductInfo})),U=T.loading,_=T.error,G=T.product,M=G.name,W=G.image,J=G.rating,$=G.totalReviews,Q=G.price,V=G.description,K=G.inStock,X=Object(h.c)((function(e){return e.loginUser})).userInfo,Y=Object(h.c)((function(e){return e.createProductReview})),Z=Y.success,ee=Y.loading,te=Y.error;return Q=Object(g.a)(Q),Object(c.useEffect)((function(){F(Object(m.e)(D)),Z&&(L(1),z("")),G._id&&G._id===D||F({type:v.f})}),[F,D,G._id,Z]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x.a,{outlinePrimary:!0,margin:!0,onClick:function(){return q.goBack()},children:"Back"}),U?Object(k.jsx)(f.a,{}):_?Object(k.jsx)(O.a,{text:_}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(o.a,{children:[Object(k.jsx)(u.a,{md:3,children:Object(k.jsx)(l.a,{src:W,alt:M,fluid:!0})}),Object(k.jsx)(u.a,{md:6,children:Object(k.jsxs)(j.a,{variant:"flush",children:[Object(k.jsx)(j.a.Item,{children:Object(k.jsx)("h2",{children:M})}),Object(k.jsxs)(j.a.Item,{children:["Price: $",Q]}),Object(k.jsx)(j.a.Item,{children:Object(k.jsx)(p.a,{value:J,text:"".concat($," reviews")})}),Object(k.jsxs)(j.a.Item,{children:["Description:",Object(k.jsx)("p",{className:"mt-2",children:V})]})]})}),Object(k.jsx)(u.a,{md:3,children:Object(k.jsx)(d.a,{children:Object(k.jsxs)(j.a,{variant:"flush",children:[Object(k.jsx)(j.a.Item,{children:Object(k.jsxs)(o.a,{children:[Object(k.jsx)(u.a,{children:"Price:"}),Object(k.jsxs)(u.a,{style:{fontWeight:"bold"},children:["$",Q]})]})}),Object(k.jsx)(j.a.Item,{children:Object(k.jsxs)(o.a,{children:[Object(k.jsx)(u.a,{children:"Status:"}),Object(k.jsx)(u.a,{children:K>0?Object(k.jsx)("span",{className:"badge badge-success p-2 ",children:"In Stock"}):Object(k.jsx)("span",{className:"badge badge-danger p-2",children:"Out of Stock"})})]})}),K>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.a.Item,{children:Object(k.jsxs)(o.a,{children:[Object(k.jsx)(u.a,{children:"Quantity:"}),Object(k.jsx)(u.a,{children:Object(k.jsx)("select",{value:a,onChange:function(e){return w(e.target.value)},children:Object(n.a)(Array(K).keys()).map((function(e){return Object(k.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(k.jsx)(j.a.Item,{children:Object(k.jsx)(x.a,{block:!0,onClick:function(){q.push("/cart/".concat(D,"?quantity=").concat(a))},children:"Add to Cart"})})]})]})})})]}),Object(k.jsx)(o.a,{children:Object(k.jsxs)(u.a,{md:6,children:[Object(k.jsx)("h2",{children:"Reviews"}),0===G.reviews.length&&Object(k.jsx)(O.a,{variant:"info",text:"No reviews."}),Object(k.jsx)(j.a,{variant:"flush",children:G.reviews.map((function(e){return Object(k.jsxs)(j.a.Item,{children:[Object(k.jsx)("strong",{children:e.name}),Object(k.jsx)(p.a,{value:e.rating}),Object(k.jsx)("p",{children:Object(g.b)(e.createdAt)}),Object(k.jsx)("p",{children:e.comment})]},e._id)}))}),E?Object(k.jsx)(o.a,{children:Object(k.jsxs)(u.a,{children:[Object(k.jsx)("h2",{children:"Write a Customer Review"}),Z&&Object(k.jsx)(O.a,{variant:"success",text:"Review submitted successfully."}),ee&&Object(k.jsx)(f.a,{}),te&&Object(k.jsx)(O.a,{text:te}),X?Object(k.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),F(Object(m.b)(D,{newRating:S,comment:H}))},children:[Object(k.jsxs)(b.a.Group,{controlId:"rating",children:[Object(k.jsx)(b.a.Label,{className:"mr-1",children:"Rating"}),Object(k.jsxs)("select",{value:S,onChange:function(e){return L(Number(e.target.value))},children:[Object(k.jsx)("option",{value:"1",children:"1 - Poor"}),Object(k.jsx)("option",{value:"2",children:"2 - Fair"}),Object(k.jsx)("option",{value:"3",children:"3 - Good"}),Object(k.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(k.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(k.jsxs)(b.a.Group,{controlId:"comment",children:[Object(k.jsx)(b.a.Label,{children:"Comment"}),Object(k.jsx)(b.a.Control,{as:"textarea",row:"3",required:!0,value:H,onChange:function(e){return z(e.target.value)}})]}),Object(k.jsx)(x.a,{submit:!0,disabled:ee,children:"Post Review"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{variant:"info",text:"Please log in to write review."}),Object(k.jsx)(i.Link,{to:"/login",className:"btn btn-primary",children:"Log In"})]})]})}):Object(k.jsx)(x.a,{onClick:function(){return P(!0)},children:"Write Review"})]})})]})]})}}}]);
//# sourceMappingURL=8.03ab627a.chunk.js.map