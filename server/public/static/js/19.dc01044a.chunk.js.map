{"version":3,"sources":["hooks/title-hook.js","components/Form/FormContainer.js","components/UI/CheckoutSteps.js","actions/cart-actions.js","pages/PaymentPage.js"],"names":["useTitle","data","useState","title","setTitle","useEffect","document","FormContainer","className","children","xs","md","CheckoutSteps","step1","step2","step3","step4","activeKey","Item","to","style","borderBottom","Link","disabled","addToCart","id","quantity","dispatch","getState","a","axios","get","product","_id","name","image","price","inStock","type","ADD_CART_ITEM","payload","err","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","REMOVE_CART_ITEM","saveShippingAddress","SAVE_SHIPPING_ADDRESS","savePaymentMethod","SAVE_PAYMENT_METHOD","PaymentPage","history","useHistory","useSelector","state","shippingAddress","address","push","paymentMethod","setPaymentMethod","useDispatch","onSubmit","e","preventDefault","Group","Label","as","Check","label","value","checked","onChange","target","submit"],"mappings":"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","file":"static/js/19.dc01044a.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nexport const useTitle = (data) => {\r\n  const [title, setTitle] = useState(data);\r\n\r\n  useEffect(() => {\r\n    document.title = title;\r\n  }, [title]);\r\n\r\n  return [title, setTitle];\r\n};\r\n","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nfunction FormContainer({ className, children }) {\r\n  return (\r\n    <Row className={`justify-content-md-center ${className}`}>\r\n      <Col xs={12} md={6}>\r\n        {children}\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default FormContainer;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nfunction CheckoutSteps({ step1, step2, step3, step4 }) {\r\n  return (\r\n    <Nav activeKey='/' className='justify-content-center mb-3'>\r\n      <Nav.Item>\r\n        {step1 ? (\r\n          <LinkContainer to='/cart' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Cart</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Cart</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step2 ? (\r\n          <LinkContainer to='/shipping' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Shipping</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Shipping</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step3 ? (\r\n          <LinkContainer to='/payment' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Payment</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Payment</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step4 ? (\r\n          <LinkContainer to='/placeorder' style={{ borderBottom: '2px solid' }}>\r\n            <Nav.Link>Place Order</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Place Order</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n    </Nav>\r\n  );\r\n}\r\n\r\nexport default CheckoutSteps;\r\n","import axios from 'axios';\r\n\r\nimport {\r\n  ADD_CART_ITEM,\r\n  REMOVE_CART_ITEM,\r\n  SAVE_SHIPPING_ADDRESS,\r\n  SAVE_PAYMENT_METHOD,\r\n} from '../constants/cart-constants';\r\n\r\nexport const addToCart = (id, quantity) => async (dispatch, getState) => {\r\n  const {\r\n    data: { product },\r\n  } = await axios.get(`/api/products/${id}`);\r\n  const { _id, name, image, price, inStock } = product;\r\n\r\n  try {\r\n    dispatch({\r\n      type: ADD_CART_ITEM,\r\n      payload: {\r\n        _id,\r\n        name,\r\n        image,\r\n        price,\r\n        inStock,\r\n        quantity,\r\n      },\r\n    });\r\n  } catch (err) {}\r\n\r\n  localStorage.setItem('cart-items', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n  dispatch({ type: REMOVE_CART_ITEM, payload: id });\r\n\r\n  localStorage.setItem('cart-items', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n  dispatch({ type: SAVE_SHIPPING_ADDRESS, payload: data });\r\n\r\n  localStorage.setItem('shipping-address', JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n  dispatch({ type: SAVE_PAYMENT_METHOD, payload: data });\r\n\r\n  localStorage.setItem('payment-method', JSON.stringify(data));\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport FormContainer from '../components/Form/FormContainer';\r\nimport CheckoutSteps from '../components/UI/CheckoutSteps';\r\nimport Btn from '../components/UI/Btn';\r\n\r\nimport { savePaymentMethod } from '../actions/cart-actions';\r\nimport { useTitle } from '../hooks/title-hook';\r\n\r\nfunction PaymentPage() {\r\n  useTitle('MERN Shop | Payment');\r\n  const history = useHistory();\r\n  const { shippingAddress } = useSelector((state) => state.cart);\r\n\r\n  if (!shippingAddress.address) {\r\n    history.push('/shipping');\r\n  }\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePaymentMethod(paymentMethod));\r\n    history.push('/placeorder');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <FormContainer className='text-center'>\r\n        <h1>Payment Method</h1>\r\n\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group>\r\n            <Form.Label as='legend'>Select Method</Form.Label>\r\n            <Form.Check\r\n              type='radio'\r\n              label='PayPal or Credit Card'\r\n              id='PayPal'\r\n              name='paymentMethod'\r\n              value='PayPal'\r\n              checked={paymentMethod === 'PayPal'}\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            />\r\n            <Form.Check\r\n              type='radio'\r\n              label='Cash on Delivery'\r\n              id='COD'\r\n              name='paymentMethod'\r\n              value='COD'\r\n              checked={paymentMethod === 'COD'}\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Btn submit>Continue</Btn>\r\n        </Form>\r\n      </FormContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PaymentPage;\r\n"],"sourceRoot":""}