(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{146:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(65),n=a(0),c=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){document.title=c}),[c]),[c,s]}},147:function(e,t,a){"use strict";a(0);var r=a(154),n=a(1);function c(e){var t=e.variant,a=e.text;return Object(n.jsx)(r.a,{variant:t,children:a})}c.defaultProps={variant:"danger"},t.a=c},148:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),s=a(4),i=a.n(s);t.a=function(e){return c.a.forwardRef((function(t,a){return c.a.createElement("div",Object(r.a)({},t,{ref:a,className:i()(t.className,e)}))}))}},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c}));var r=function(e){return(Math.round(100*e)/100).toFixed(2)},n=function(e){return new Date(e).toLocaleString().slice(0,-3)},c=function(e){return new Date(e).toLocaleDateString()}},150:function(e,t,a){"use strict";var r,n=a(2),c=a(3),s=a(4),i=a.n(s),o=a(0),d=a.n(o),l=a(40),u=a(70),j=a(69),b=["className","children"],p=((r={})[l.b]="show",r[l.a]="show",r),f=d.a.forwardRef((function(e,t){var a=e.className,r=e.children,s=Object(c.a)(e,b),f=Object(o.useCallback)((function(e){Object(j.a)(e),s.onEnter&&s.onEnter(e)}),[s]);return d.a.createElement(l.e,Object(n.a)({ref:t,addEndListener:u.a},s,{onEnter:f}),(function(e,t){return d.a.cloneElement(r,Object(n.a)({},t,{className:i()("fade",a,r.props.className,p[e])}))}))}));f.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},f.displayName="Fade",t.a=f},151:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(7),s=a.n(c),i=a(0),o=a.n(i),d=a(4),l=a.n(d),u=["label","onClick","className"],j={label:s.a.string.isRequired,onClick:s.a.func},b=o.a.forwardRef((function(e,t){var a=e.label,c=e.onClick,s=e.className,i=Object(n.a)(e,u);return o.a.createElement("button",Object(r.a)({ref:t,type:"button",className:l()("close",s),onClick:c},i),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"),o.a.createElement("span",{className:"sr-only"},a))}));b.displayName="CloseButton",b.propTypes=j,b.defaultProps={label:"Close"},t.a=b},154:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(4),s=a.n(c),i=a(0),o=a.n(i),d=a(23),l=a(15),u=a(5),j=a(150),b=a(151),p=a(148),f=a(28),O=a(39),h=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],m=Object(p.a)("h4");m.displayName="DivStyledAsH4";var x=Object(f.a)("alert-heading",{Component:m}),v=Object(f.a)("alert-link",{Component:O.a}),g={show:!0,transition:j.a,closeLabel:"Close alert"},y=o.a.forwardRef((function(e,t){var a=Object(d.a)(e,{show:"onClose"}),c=a.bsPrefix,i=a.show,p=a.closeLabel,f=a.className,O=a.children,m=a.variant,x=a.onClose,v=a.dismissible,g=a.transition,y=Object(n.a)(a,h),k=Object(u.a)(c,"alert"),N=Object(l.a)((function(e){x&&x(!1,e)})),w=!0===g?j.a:g,C=o.a.createElement("div",Object(r.a)({role:"alert"},w?void 0:y,{ref:t,className:s()(f,k,m&&k+"-"+m,v&&k+"-dismissible")}),v&&o.a.createElement(b.a,{onClick:N,label:p}),O);return w?o.a.createElement(w,Object(r.a)({unmountOnExit:!0},y,{ref:void 0,in:i}),C):i?C:null}));y.displayName="Alert",y.defaultProps=g,y.Link=v,y.Heading=x,t.a=y},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"b",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return O}));var r=a(18),n=a.n(r),c=a(29),s=a(30),i=a.n(s),o=a(32),d=a(10),l=a(67),u=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,u,j,b,p;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.b}),c=r(),s=c.loginUser.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.post("/api/orders",e,u);case 6:j=t.sent,b=j.data.order,a({type:d.d,payload:b}),a({type:o.c,payload:b}),localStorage.removeItem("cart-items"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"You are not authorized. Token failed."===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.a,payload:p});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,j,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.m}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/".concat(e),o);case 6:u=t.sent,j=u.data.order,a({type:d.n,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.l,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(c.a)(n.a.mark((function a(r,c){var s,o,u,j,b,p;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:d.t}),s=c(),o=s.loginUser.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},a.next=6,i.a.put("/api/orders/".concat(e,"/pay"),t,u);case 6:j=a.sent,b=j.data.order,r({type:d.v,payload:b}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"You are not authorized. Token failed."===(p=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&r(Object(l.e)()),r({type:d.s,payload:p});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,j,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.f}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.put("/api/orders/".concat(e._id,"/deliver"),{},o);case 6:u=t.sent,j=u.data.order,a({type:d.h,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.e,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,j,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.p}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/myorders/?pageNumber=".concat(e),o);case 6:u=t.sent,j=u.data,a({type:d.r,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.o,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,o,u,j,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d.j}),c=r(),s=c.loginUser.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,i.a.get("/api/orders/?pageNumber=".concat(e),o);case 6:u=t.sent,j=u.data,a({type:d.k,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(l.e)()),a({type:d.i,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}},161:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(4),s=a.n(c),i=a(0),o=a.n(i),d=a(5),l=a(28),u=a(148),j=a(72),b=["bsPrefix","className","variant","as"],p=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,i=e.variant,l=e.as,u=void 0===l?"img":l,j=Object(n.a)(e,b),p=Object(d.a)(a,"card-img");return o.a.createElement(u,Object(r.a)({ref:t,className:s()(i?p+"-"+i:p,c)},j))}));p.displayName="CardImg",p.defaultProps={variant:null};var f=p,O=["bsPrefix","className","bg","text","border","body","children","as"],h=Object(u.a)("h5"),m=Object(u.a)("h6"),x=Object(l.a)("card-body"),v=Object(l.a)("card-title",{Component:h}),g=Object(l.a)("card-subtitle",{Component:m}),y=Object(l.a)("card-link",{Component:"a"}),k=Object(l.a)("card-text",{Component:"p"}),N=Object(l.a)("card-header"),w=Object(l.a)("card-footer"),C=Object(l.a)("card-img-overlay"),I=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,l=e.bg,u=e.text,b=e.border,p=e.body,f=e.children,h=e.as,m=void 0===h?"div":h,v=Object(n.a)(e,O),g=Object(d.a)(a,"card"),y=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:g+"-header"}}),[g]);return o.a.createElement(j.a.Provider,{value:y},o.a.createElement(m,Object(r.a)({ref:t},v,{className:s()(c,g,l&&"bg-"+l,u&&"text-"+u,b&&"border-"+b)}),p?o.a.createElement(x,null,f):f))}));I.displayName="Card",I.defaultProps={body:!1},I.Img=f,I.Title=v,I.Subtitle=g,I.Body=x,I.Link=y,I.Text=k,I.Header=N,I.Footer=w,I.ImgOverlay=C;t.a=I},185:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(13),c=a(26),s=a(139),i=a(92),o=a(36),d=a(145),l=a(140),u=a(147),j=a(149),b=a(1);var p=function(e){var t=e.order;return Object(b.jsxs)(d.a,{variant:"flush",children:[Object(b.jsxs)(d.a.Item,{children:[Object(b.jsx)("h2",{children:"Shipping"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Name: "})," ",t.user.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Email: "})," ",Object(b.jsx)("a",{href:"mailto:".concat(t.user.email),children:t.user.email})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Address: "}),t.shippingAddress.address,", ",t.shippingAddress.city," ",t.shippingAddress.postalCode,", ",t.shippingAddress.country]}),t.isDelivered?Object(b.jsx)(u.a,{variant:"success",text:"Delivered on ".concat(Object(j.c)(t.deliveredAt),".")}):Object(b.jsx)(u.a,{text:"Not Delivered."})]}),Object(b.jsxs)(d.a.Item,{children:[Object(b.jsx)("h2",{children:"Payment Method"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Method: "}),t.paymentMethod]}),t.isPaid?Object(b.jsx)(u.a,{variant:"success",text:"Paid on ".concat(new Date(t.paidAt).toLocaleString().slice(0,-3),".")}):Object(b.jsx)(u.a,{text:"Not Paid."})]}),Object(b.jsxs)(d.a.Item,{children:[Object(b.jsx)("h2",{children:"Order Items"}),0===t.orderItems.length?Object(b.jsx)(u.a,{text:"Order is empty."}):Object(b.jsx)(d.a,{variant:"flush",children:t.orderItems.map((function(e,t){return Object(b.jsx)(d.a.Item,{children:Object(b.jsxs)(s.a,{className:"align-items-center",children:[Object(b.jsx)(i.a,{md:2,children:Object(b.jsx)(l.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(b.jsx)(i.a,{children:Object(b.jsx)(o.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(b.jsxs)(i.a,{md:4,children:[e.quantity," x $",Object(j.a)(e.price)," = $",Object(j.a)(e.quantity*e.price)]})]})},t)}))})]})]})},f=a(161),O=a(68),h=a(66),m=a(155);var x=function(e){var t=e.order,a=Object(c.b)(),r=Object(c.c)((function(e){return e.loginUser})).userInfo,n=Object(c.c)((function(e){return e.deliverOrder})).loading;return Object(b.jsx)(f.a,{children:Object(b.jsxs)(d.a,{variant:"flush",children:[Object(b.jsx)(d.a.Item,{children:Object(b.jsx)("h2",{children:"Order Summary"})}),Object(b.jsx)(d.a.Item,{children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(i.a,{children:"Price"}),Object(b.jsxs)(i.a,{children:["$",Object(j.a)(t.itemsPrice)]})]})}),Object(b.jsx)(d.a.Item,{children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(i.a,{children:"Shipping"}),Object(b.jsxs)(i.a,{children:["$",Object(j.a)(t.shippingPrice)]})]})}),Object(b.jsx)(d.a.Item,{className:"bg-dark text-light",children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(i.a,{children:"Total"}),Object(b.jsxs)(i.a,{children:["$",Object(j.a)(t.totalPrice)]})]})}),Object(b.jsx)(d.a.Item,{children:Object(b.jsx)(u.a,{variant:"success",text:"Order Received."})}),n&&Object(b.jsx)(O.a,{}),r&&r.isAdmin&&t.isPaid&&!t.isDelivered&&Object(b.jsx)(d.a.Item,{children:Object(b.jsx)(h.a,{block:!0,onClick:function(){a(Object(m.b)(t))},children:"Mark As Delivered"})})]})})},v=a(10),g=a(146);t.default=function(){Object(g.a)("MERN Shop | Order");var e=Object(n.k)(),t=Object(n.m)().id,a=Object(c.b)(),o=Object(c.c)((function(e){return e.getOrderInfo})),d=o.order,l=o.loading,j=o.error,f=Object(c.c)((function(e){return e.payOrder})).success,y=Object(c.c)((function(e){return e.deliverOrder})).success;return Object(r.useEffect)((function(){(!d||f||y||d._id!==t)&&(a({type:v.u}),a({type:v.g}),a(Object(m.d)(t)))}),[a,t,f,y,d]),l?Object(b.jsx)(O.a,{}):j?Object(b.jsx)(u.a,{text:j}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h.a,{outlinePrimary:!0,margin:!0,onClick:function(){return e.goBack()},children:"Back"}),Object(b.jsxs)("h1",{children:["Order ",d._id]}),Object(b.jsxs)(s.a,{children:[Object(b.jsx)(i.a,{md:8,children:Object(b.jsx)(p,{order:d})}),Object(b.jsx)(i.a,{md:4,children:Object(b.jsx)(x,{order:d})})]})]})}}}]);
//# sourceMappingURL=9.31c16bff.chunk.js.map