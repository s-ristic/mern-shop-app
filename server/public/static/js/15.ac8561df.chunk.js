(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{146:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(65),a=n(0),c=function(e){var t=Object(a.useState)(e),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){document.title=c}),[c]),[c,s]}},147:function(e,t,n){"use strict";n(0);var r=n(154),a=n(1);function c(e){var t=e.variant,n=e.text;return Object(a.jsx)(r.a,{variant:t,children:n})}c.defaultProps={variant:"danger"},t.a=c},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var r=function(e){return(Math.round(100*e)/100).toFixed(2)},a=function(e){return new Date(e).toLocaleString().slice(0,-3)},c=function(e){return new Date(e).toLocaleDateString()}},156:function(e,t,n){"use strict";var r=n(71),a=(n(0),n(165)),c=n(31),s=n(1);t.a=function(e){var t=e.products,n=e.orders,o=e.users,i=e.pages,d=e.page,u=e.isAdmin,l=void 0!==u&&u,j=e.keyword,p=void 0===j?"":j;return t&&i>1?Object(s.jsx)(a.a,{children:Object(r.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:l?"/admin/allproducts/".concat(e+1):p?"/search/".concat(p,"/").concat(e+1):"/".concat(e+1),children:Object(s.jsx)(a.a.Item,{active:e+1===d,children:e+1})},e+1)}))}):n&&i>1?Object(s.jsx)(a.a,{children:Object(r.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:l?"/admin/allorders/".concat(e+1):"/profile/".concat(e+1),children:Object(s.jsx)(a.a.Item,{active:e+1===d,children:e+1})},e+1)}))}):o&&i>1?Object(s.jsx)(a.a,{children:Object(r.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:l?"/admin/allusers/".concat(e+1):"/",children:Object(s.jsx)(a.a.Item,{active:e+1===d,children:e+1})},e+1)}))}):Object(s.jsx)("div",{})}},157:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return h}));var r=n(18),a=n.n(r),c=n(29),s=n(30),o=n.n(s),i=n(11),d=n(67),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:i.m}),n.prev=1,n.next=4,o.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:c=n.sent,s=c.data,r({type:i.n,payload:s}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r({type:i.l,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:i.p}),t.prev=1,t.next=4,o.a.get("/api/products/".concat(e));case 4:r=t.sent,c=r.data.product,n({type:i.q,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:i.o,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r,c){var s,u,l,j;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:i.e}),s=c(),u=s.loginUser.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)}},n.next=6,o.a.post("/api/products/".concat(e,"/reviews"),t,l);case 6:r({type:i.g}),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),"Not authorized, token failed"===(j=n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message)&&r(Object(d.e)()),r({type:i.d,payload:j});case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,u,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.j}),c=r(),s=c.loginUser.userInfo,u={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.delete("/api/products/".concat(e),u);case 6:n({type:i.k}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(d.e)()),n({type:i.i,payload:l});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,u,l,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.b}),r=n(),c=r.loginUser.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,o.a.post("/api/products",{},s);case 6:u=e.sent,l=u.data.product,t({type:i.h,payload:l}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(j=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(d.e)()),t({type:i.a,payload:j});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,u,l,j,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.v}),c=r(),s=c.loginUser.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.put("/api/products/".concat(e._id),e,u);case 6:l=t.sent,j=l.data.product,n({type:i.x,payload:j}),n({type:i.q,payload:j}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(d.e)()),n({type:i.u,payload:p});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.s}),e.next=4,o.a.get("/api/products/toprated");case 4:n=e.sent,r=n.data.products,t({type:i.t,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.r,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},160:function(e,t,n){"use strict";var r=n(65),a=n(0),c=n(13),s=n(36),o=n(139),i=n(92),d=n(166),u=n(68),l=n(147),j=n(33),p=n(66),b=n(156),O=n(149),h=n(24),x=n.n(h),f=n(179),m=n(1);var g=function(e){var t=e.id,n=e.showModal,r=e.onClickModalHandler,a=e.onClickDelete,c=Object(m.jsxs)(f.a,{show:n,onHide:r,backdrop:"static",keyboard:!1,children:[Object(m.jsx)(f.a.Header,{children:Object(m.jsx)(f.a.Title,{children:"Are you sure?"})}),Object(m.jsxs)(f.a.Footer,{children:[Object(m.jsx)(p.a,{outlinePrimary:!0,onClick:r,children:"No"}),Object(m.jsx)(p.a,{onClick:function(){a(t),r()},children:"Yes"})]})]});return x.a.createPortal(c,document.getElementById("confirm-modal"))};t.a=function(e){var t=e.heading,n=e.tableHead,h=e.loading,x=e.error,f=e.users,v=e.orders,y=e.products,k=e.showModal,C=e.onClickModalHandler,w=e.onClickDelete,A=e.onClickCreateProduct,N=e.loadingDelete,D=e.errorDelete,P=e.loadingCreate,_=e.errorCreate,I=e.pages,M=e.page,z=Object(a.useState)(null),H=Object(r.a)(z,2),L=H[0],B=H[1],E=Object(c.l)().pathname.split("/")[3];return E||(E=1),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(o.a,{className:"align-items-center",children:[Object(m.jsx)(i.a,{children:Object(m.jsx)("h1",{children:t})}),y&&Object(m.jsx)(i.a,{xs:12,md:6,className:"text-right mb-4 mb-md-0",children:Object(m.jsxs)(p.a,{onClick:A,children:[Object(m.jsx)(j.a,{plus:!0})," Create Product"]})})]}),N&&Object(m.jsx)(u.a,{}),D&&Object(m.jsx)(l.a,{text:D}),P&&Object(m.jsx)(u.a,{}),_&&Object(m.jsx)(l.a,{text:_}),h?Object(m.jsx)(u.a,{}):x?Object(m.jsx)(l.a,{text:x}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g,{id:L,showModal:k,onClickModalHandler:C,onClickDelete:w}),Object(m.jsxs)(d.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm text-center",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{className:"bg-dark text-light",children:n.map((function(e,t){return Object(m.jsx)("th",{children:e},t)}))})}),Object(m.jsxs)("tbody",{children:[f&&f.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:10*(E-1)+(t+1)}),Object(m.jsx)("td",{children:e._id}),Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:Object(m.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(m.jsx)("td",{children:e.isAdmin?Object(m.jsx)(j.a,{check:!0}):Object(m.jsx)(j.a,{times:!0})}),Object(m.jsxs)("td",{className:"d-flex justify-content-center",children:[Object(m.jsx)(s.Link,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(m.jsx)(p.a,{small:!0,children:Object(m.jsx)(j.a,{edit:!0})})}),Object(m.jsx)(p.a,{danger:!0,small:!0,onClick:function(){B(e._id),C()},children:Object(m.jsx)(j.a,{trash:!0})})]})]},e._id)})),v&&v.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:10*(E-1)+(t+1)}),Object(m.jsx)("td",{children:e._id}),Object(m.jsx)("td",{children:e.user&&e.user.name}),Object(m.jsx)("td",{children:Object(O.b)(e.createdAt)}),Object(m.jsxs)("td",{children:["$",Object(O.a)(e.totalPrice)]}),Object(m.jsx)("td",{children:e.isPaid?Object(O.b)(e.paidAt):Object(m.jsx)(j.a,{times:!0})}),Object(m.jsx)("td",{children:e.isDelivered?Object(O.b)(e.deliveredAt):Object(m.jsx)(j.a,{times:!0})}),Object(m.jsx)("td",{children:Object(m.jsx)(s.Link,{to:"/order/".concat(e._id),children:Object(m.jsx)(p.a,{small:!0,children:"Details"})})})]},e._id)})),y&&y.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:10*(E-1)+(t+1)}),Object(m.jsx)("td",{children:e._id}),Object(m.jsx)("td",{children:e.name}),Object(m.jsxs)("td",{children:["$",Object(O.a)(e.price)]}),Object(m.jsx)("td",{children:e.category}),Object(m.jsx)("td",{children:e.brand}),Object(m.jsxs)("td",{className:"d-flex justify-content-center",children:[Object(m.jsx)(s.Link,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(m.jsx)(p.a,{small:!0,children:Object(m.jsx)(j.a,{edit:!0})})}),Object(m.jsx)(p.a,{danger:!0,small:!0,onClick:function(){B(e._id),C()},children:Object(m.jsx)(j.a,{trash:!0})})]})]},e._id)}))]})]}),y&&Object(m.jsx)(b.a,{products:!0,pages:I,page:M,isAdmin:!0}),v&&Object(m.jsx)(b.a,{orders:!0,pages:I,page:M,isAdmin:!0}),f&&Object(m.jsx)(b.a,{users:!0,pages:I,page:M,isAdmin:!0})]})]})}},176:function(e,t,n){"use strict";n.r(t);var r=n(65),a=n(0),c=n(13),s=n(26),o=n(160),i=n(157),d=n(11),u=n(146),l=n(1);t.default=function(){Object(u.a)("Admin | All Products");var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],j=t[1],p=Object(c.k)(),b=(Object(c.m)()||1).pageNumber,O=Object(s.b)(),h=Object(s.c)((function(e){return e.getAllProducts})),x=h.loading,f=h.error,m=h.products,g=m.products,v=m.page,y=m.pages,k=Object(s.c)((function(e){return e.deleteProduct})),C=k.loading,w=k.error,A=k.success,N=Object(s.c)((function(e){return e.createProduct})),D=N.loading,P=N.error,_=N.success,I=N.product,M=Object(s.c)((function(e){return e.loginUser})).userInfo;return Object(a.useEffect)((function(){O({type:d.c}),_?p.push("/admin/product/".concat(I._id,"/edit")):O(Object(i.d)("",b))}),[O,p,M,A,_,I,b]),Object(l.jsx)(o.a,{heading:"All Products",tableHead:["NUM","ID","NAME","PRICE","CATEGORY","BRAND",null],loading:x,error:f,loadingCreate:D,errorCreate:P,loadingDelete:C,errorDelete:w,products:g,showModal:n,onClickModalHandler:function(){return j((function(e){return!e}))},onClickDelete:function(e){O(Object(i.c)(e))},onClickCreateProduct:function(){O(Object(i.a)())},page:v,pages:y})}}}]);
//# sourceMappingURL=15.ac8561df.chunk.js.map