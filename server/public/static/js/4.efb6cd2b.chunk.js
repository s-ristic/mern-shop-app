(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{146:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(65),n=a(0),c=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){document.title=c}),[c]),[c,s]}},147:function(e,t,a){"use strict";a(0);var r=a(154),n=a(1);function c(e){var t=e.variant,a=e.text;return Object(n.jsx)(r.a,{variant:t,children:a})}c.defaultProps={variant:"danger"},t.a=c},148:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),s=a(4),o=a.n(s);t.a=function(e){return c.a.forwardRef((function(t,a){return c.a.createElement("div",Object(r.a)({},t,{ref:a,className:o()(t.className,e)}))}))}},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c}));var r=function(e){return(Math.round(100*e)/100).toFixed(2)},n=function(e){return new Date(e).toLocaleString().slice(0,-3)},c=function(e){return new Date(e).toLocaleDateString()}},150:function(e,t,a){"use strict";var r,n=a(2),c=a(3),s=a(4),o=a.n(s),i=a(0),l=a.n(i),u=a(40),d=a(70),p=a(69),b=["className","children"],j=((r={})[u.b]="show",r[u.a]="show",r),f=l.a.forwardRef((function(e,t){var a=e.className,r=e.children,s=Object(c.a)(e,b),f=Object(i.useCallback)((function(e){Object(p.a)(e),s.onEnter&&s.onEnter(e)}),[s]);return l.a.createElement(u.e,Object(n.a)({ref:t,addEndListener:d.a},s,{onEnter:f}),(function(e,t){return l.a.cloneElement(r,Object(n.a)({},t,{className:o()("fade",a,r.props.className,j[e])}))}))}));f.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},f.displayName="Fade",t.a=f},151:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(7),s=a.n(c),o=a(0),i=a.n(o),l=a(4),u=a.n(l),d=["label","onClick","className"],p={label:s.a.string.isRequired,onClick:s.a.func},b=i.a.forwardRef((function(e,t){var a=e.label,c=e.onClick,s=e.className,o=Object(n.a)(e,d);return i.a.createElement("button",Object(r.a)({ref:t,type:"button",className:u()("close",s),onClick:c},o),i.a.createElement("span",{"aria-hidden":"true"},"\xd7"),i.a.createElement("span",{className:"sr-only"},a))}));b.displayName="CloseButton",b.propTypes=p,b.defaultProps={label:"Close"},t.a=b},153:function(e,t,a){"use strict";a(0);var r=a(142),n=a(1);t.a=function(e){var t=e.input,a=t.controlId,c=t.label,s=t.type,o=t.name,i=t.placeholder,l=t.value,u=t.required,d=t.onChange;return Object(n.jsxs)(r.a.Group,{controlId:a,children:[Object(n.jsx)(r.a.Label,{children:c}),Object(n.jsx)(r.a.Control,{type:s,name:o,placeholder:i,value:l,required:u,onChange:d})]})}},154:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(4),s=a.n(c),o=a(0),i=a.n(o),l=a(23),u=a(15),d=a(5),p=a(150),b=a(151),j=a(148),f=a(28),m=a(39),h=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],O=Object(j.a)("h4");O.displayName="DivStyledAsH4";var v=Object(f.a)("alert-heading",{Component:O}),x=Object(f.a)("alert-link",{Component:m.a}),y={show:!0,transition:p.a,closeLabel:"Close alert"},g=i.a.forwardRef((function(e,t){var a=Object(l.a)(e,{show:"onClose"}),c=a.bsPrefix,o=a.show,j=a.closeLabel,f=a.className,m=a.children,O=a.variant,v=a.onClose,x=a.dismissible,y=a.transition,g=Object(n.a)(a,h),k=Object(d.a)(c,"alert"),N=Object(u.a)((function(e){v&&v(!1,e)})),w=!0===y?p.a:y,E=i.a.createElement("div",Object(r.a)({role:"alert"},w?void 0:g,{ref:t,className:s()(f,k,O&&k+"-"+O,x&&k+"-dismissible")}),x&&i.a.createElement(b.a,{onClick:N,label:j}),m);return w?i.a.createElement(w,Object(r.a)({unmountOnExit:!0},g,{ref:void 0,in:o}),E):o?E:null}));g.displayName="Alert",g.defaultProps=y,g.Link=x,g.Heading=v,t.a=g},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return b})),a.d(t,"b",(function(){return j})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return m}));var r=a(18),n=a.n(r),c=a(29),s=a(30),o=a.n(s),i=a(32),l=a(10),u=a(67),d=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,d,p,b,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.b}),c=r(),s=c.loginUser.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.post("/api/orders",e,d);case 6:p=t.sent,b=p.data.order,a({type:l.d,payload:b}),a({type:i.c,payload:b}),localStorage.removeItem("cart-items"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"You are not authorized. Token failed."===(j=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:l.a,payload:j});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,i,d,p,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.m}),c=r(),s=c.loginUser.userInfo,i={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.get("/api/orders/".concat(e),i);case 6:d=t.sent,p=d.data.order,a({type:l.n,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:l.l,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(c.a)(n.a.mark((function a(r,c){var s,i,d,p,b,j;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:l.t}),s=c(),i=s.loginUser.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},a.next=6,o.a.put("/api/orders/".concat(e,"/pay"),t,d);case 6:p=a.sent,b=p.data.order,r({type:l.v,payload:b}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"You are not authorized. Token failed."===(j=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&r(Object(u.e)()),r({type:l.s,payload:j});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,i,d,p,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.f}),c=r(),s=c.loginUser.userInfo,i={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.put("/api/orders/".concat(e._id,"/deliver"),{},i);case 6:d=t.sent,p=d.data.order,a({type:l.h,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:l.e,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,i,d,p,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.p}),c=r(),s=c.loginUser.userInfo,i={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.get("/api/orders/myorders/?pageNumber=".concat(e),i);case 6:d=t.sent,p=d.data,a({type:l.r,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:l.o,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,s,i,d,p,b;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.j}),c=r(),s=c.loginUser.userInfo,i={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.get("/api/orders/?pageNumber=".concat(e),i);case 6:d=t.sent,p=d.data,a({type:l.k,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"You are not authorized. Token failed."===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:l.i,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}},156:function(e,t,a){"use strict";var r=a(71),n=(a(0),a(165)),c=a(31),s=a(1);t.a=function(e){var t=e.products,a=e.orders,o=e.users,i=e.pages,l=e.page,u=e.isAdmin,d=void 0!==u&&u,p=e.keyword,b=void 0===p?"":p;return t&&i>1?Object(s.jsx)(n.a,{children:Object(r.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:d?"/admin/allproducts/".concat(e+1):b?"/search/".concat(b,"/").concat(e+1):"/".concat(e+1),children:Object(s.jsx)(n.a.Item,{active:e+1===l,children:e+1})},e+1)}))}):a&&i>1?Object(s.jsx)(n.a,{children:Object(r.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:d?"/admin/allorders/".concat(e+1):"/profile/".concat(e+1),children:Object(s.jsx)(n.a.Item,{active:e+1===l,children:e+1})},e+1)}))}):o&&i>1?Object(s.jsx)(n.a,{children:Object(r.a)(Array(i).keys()).map((function(e){return Object(s.jsx)(c.LinkContainer,{to:d?"/admin/allusers/".concat(e+1):"/",children:Object(s.jsx)(n.a.Item,{active:e+1===l,children:e+1})},e+1)}))}):Object(s.jsx)("div",{})}},165:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(4),s=a.n(c),o=a(0),i=a.n(o),l=a(5),u=a(39),d=["active","disabled","className","style","activeLabel","children"],p=["children"],b=i.a.forwardRef((function(e,t){var a=e.active,c=e.disabled,o=e.className,l=e.style,p=e.activeLabel,b=e.children,j=Object(n.a)(e,d),f=a||c?"span":u.a;return i.a.createElement("li",{ref:t,style:l,className:s()(o,"page-item",{active:a,disabled:c})},i.a.createElement(f,Object(r.a)({className:"page-link",disabled:c},j),b,a&&p&&i.a.createElement("span",{className:"sr-only"},p)))}));b.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},b.displayName="PageItem";var j=b;function f(e,t,a){function r(e){var r=e.children,c=Object(n.a)(e,p);return i.a.createElement(b,c,i.a.createElement("span",{"aria-hidden":"true"},r||t),i.a.createElement("span",{className:"sr-only"},a))}return void 0===a&&(a=e),r.displayName=e,r}var m=f("First","\xab"),h=f("Prev","\u2039","Previous"),O=f("Ellipsis","\u2026","More"),v=f("Next","\u203a"),x=f("Last","\xbb"),y=["bsPrefix","className","children","size"],g=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,o=e.children,u=e.size,d=Object(n.a)(e,y),p=Object(l.a)(a,"pagination");return i.a.createElement("ul",Object(r.a)({ref:t},d,{className:s()(c,p,u&&p+"-"+u)}),o)}));g.First=m,g.Prev=h,g.Ellipsis=O,g.Item=j,g.Next=v,g.Last=x;t.a=g},166:function(e,t,a){"use strict";var r=a(2),n=a(3),c=a(4),s=a.n(c),o=a(0),i=a.n(o),l=a(5),u=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,o=e.striped,d=e.bordered,p=e.borderless,b=e.hover,j=e.size,f=e.variant,m=e.responsive,h=Object(n.a)(e,u),O=Object(l.a)(a,"table"),v=s()(c,O,f&&O+"-"+f,j&&O+"-"+j,o&&O+"-striped",d&&O+"-bordered",p&&O+"-borderless",b&&O+"-hover"),x=i.a.createElement("table",Object(r.a)({},h,{className:v,ref:t}));if(m){var y=O+"-responsive";return"string"===typeof m&&(y=y+"-"+m),i.a.createElement("div",{className:y},x)}return x}));t.a=d},183:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(139),c=a(92),s=a(65),o=a(26),i=a(142),l=a(68),u=a(147),d=a(153),p=a(66),b=a(67),j=a(6),f=a(1);var m=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),m=Object(s.a)(c,2),h=m[0],O=m[1],v=Object(r.useState)(""),x=Object(s.a)(v,2),y=x[0],g=x[1],k=Object(r.useState)(""),N=Object(s.a)(k,2),w=N[0],E=N[1],C=Object(r.useState)(""),P=Object(s.a)(C,2),I=P[0],L=P[1],A=Object(o.b)(),z=Object(o.c)((function(e){return e.getUserInfo})),T=z.loading,D=z.error,U=z.user,S=Object(o.c)((function(e){return e.updateUserInfo})),R=S.loading,Y=S.success,B=S.error;Object(r.useEffect)((function(){return U?(n(U.name),O(U.email)):A(Object(b.c)("profile")),function(){L(""),setTimeout((function(){A({type:j.w})}),5e3)}}),[A,U]);var F=[{controlId:"name",label:"Your Name",type:"text",name:"name",placeholder:"Your Name",value:a,onChange:function(e){return n(e.target.value)}},{controlId:"email",label:"Your Email",type:"email",name:"email",placeholder:"your-email@example.com",value:h,onChange:function(e){return O(e.target.value)}},{controlId:"password",label:"Your Password",type:"password",name:"password",placeholder:"Minimal Length 6 Characters",value:y,onChange:function(e){return g(e.target.value)}},{controlId:"confirmPassword",label:"Confirm Password",type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:w,onChange:function(e){return E(e.target.value)}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"User Profile"}),D&&Object(f.jsx)(u.a,{text:D}),T&&Object(f.jsx)(l.a,{}),I&&Object(f.jsx)(u.a,{text:I}),R&&Object(f.jsx)(l.a,{}),B&&Object(f.jsx)(u.a,{text:B}),Y&&Object(f.jsx)(u.a,{variant:"success",text:"Profile updated successfully."}),Object(f.jsxs)(i.a,{children:[F.map((function(e,t){return Object(f.jsx)(d.a,{input:e},t)})),Object(f.jsx)(p.a,{submit:!0,onClick:function(e){e.preventDefault(),y!==w?L("Passwords do not match."):A(Object(b.h)({id:U._id,name:a,email:h,password:y}))},children:"Update Profile"})]})]})},h=a(13),O=a(36),v=a(166),x=a(33),y=a(156),g=a(155),k=a(149);var N=function(){var e=Object(o.b)(),t=Object(h.m)().pageNumber,a=Object(h.l)().pathname.split("/")[2];a||(a=1);var n=Object(o.c)((function(e){return e.getUserOrders})),c=n.loading,s=n.error,i=n.orders,d=i.orders,b=i.page,j=i.pages;return Object(r.useEffect)((function(){e(Object(g.e)(t))}),[e,t]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"My Orders"}),c?Object(f.jsx)(l.a,{}):s?Object(f.jsx)(u.a,{text:s}):d&&d.length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(v.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm text-center",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"NUM"}),Object(f.jsx)("th",{children:"ID"}),Object(f.jsx)("th",{children:"DATE"}),Object(f.jsx)("th",{children:"TOTAL"}),Object(f.jsx)("th",{children:"PAID"}),Object(f.jsx)("th",{children:"DELIVERED"}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{children:d.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:10*(a-1)+(t+1)}),Object(f.jsx)("td",{children:e._id}),Object(f.jsx)("td",{children:Object(k.b)(e.createdAt)}),Object(f.jsxs)("td",{children:["$",Object(k.a)(e.totalPrice)]}),Object(f.jsx)("td",{children:e.isPaid?Object(k.b)(e.paidAt):Object(f.jsx)(x.a,{times:!0})}),Object(f.jsx)("td",{children:e.isDelivered?Object(k.b)(e.deliveredAt):Object(f.jsx)(x.a,{times:!0})}),Object(f.jsx)("td",{children:Object(f.jsx)(O.Link,{to:"/order/".concat(e._id),children:Object(f.jsx)(p.a,{small:!0,children:"Details"})})})]},e._id)}))})]}),Object(f.jsx)(y.a,{orders:!0,page:b,pages:j})]}):Object(f.jsx)(u.a,{text:"No orders."})]})},w=a(146);t.default=function(){return Object(w.a)("MERN Shop | Profile"),Object(f.jsxs)(n.a,{children:[Object(f.jsx)(c.a,{md:3,children:Object(f.jsx)(m,{})}),Object(f.jsx)(c.a,{md:9,children:Object(f.jsx)(N,{})})]})}}}]);
//# sourceMappingURL=4.efb6cd2b.chunk.js.map